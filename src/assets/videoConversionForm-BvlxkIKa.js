import{au as i,d as ee,q as ae,p as le,r as c,a4 as te,C as x,o as b,s as r,a5 as re,a6 as oe,a as t,f as V,j as l,a9 as se,aa as de,aq as ue,az as ne,D as pe,c as F,F as R,i as z,G as me,H as ie,x as g,aR as ce,aS as fe,Q as Ve,b6 as we,ap as ve,at as H,aG as j,_ as be}from"./index-DzCoMBOl.js";import{_ as ge}from"./Dialog.vue_vue_type_style_index_0_lang-v5RKlSVj.js";const C={getAsrList:async()=>await i.get({url:"/asr/getAsrList"}),getShowTextList:async()=>await i.get({url:"/asr/getShowTextList"}),setAsr:async d=>await i.post({url:"/asr/setAsr",data:d}),getAsrResult:async d=>await i.get({url:"/asr/ctrl/getAsrResult",params:d}),getAsrResultById:async d=>await i.get({url:"/asr/ctrl/getAsrResultById",params:d}),getCntAsrResult:async d=>await i.get({url:"/asr/ctrl/getCntAsrResult",params:d}),getStatusAsr:async d=>await i.get({url:"/asr/ctrl/getStatusAsr",params:d}),startAsr:async d=>await i.get({url:"/asr/ctrl/startAsr",params:d}),stopAsr:async d=>await i.get({url:"/asr/ctrl/stopAsr",params:d})},_e={class:"content-item"},he={class:"content-item"},Ie={class:"content-item"},ye={class:"content-item"},$=be(ee({name:"DeviceTypeCatalogForm",__name:"videoConversionForm",emits:["success"],setup(d,{expose:N,emit:B}){const{t:T}=ae(),D=le(),w=c(!1),L=c(""),h=c(!1),P=c(""),U=c(),o=c({serverIp:"",asrEnable:!1,textLen:10,autoHideTime:0,asrShowInput:"",transEnable:!1,transShowInput:"",transSource:"",transTarget:"",userMode:"",forwardMode:"",forwardIp:"",forwardPort:0}),q=te({serverIp:[{pattern:/^((25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(25[0-5]|2[0-4]\d|[01]?\d\d?)$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684 IPv4 \u5730\u5740\uFF08\u5982 192.168.1.1\uFF09",trigger:"blur"}],forwardIp:[{pattern:/^((25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(25[0-5]|2[0-4]\d|[01]?\d\d?)$/,message:"\u8BF7\u8F93\u5165\u6709\u6548\u7684 IPv4 \u5730\u5740\uFF08\u5982 192.168.1.1\uFF09",trigger:"blur"}]}),M=c();N({open:async(u,e)=>{G(),w.value=!0,L.value=T("action."+u),P.value=u,J(),e&&(M.value=e,o.value=e.configVo,_.value=e.configVo.userList||[])}});const A=c([]),G=async()=>{A.value=await C.getShowTextList()},_=c([]),O=()=>{_.value.push({})},W=B,Q=async()=>{try{await U.value.validate(),h.value=!0,await C.setAsr({...M.value,configVo:o.value,userList:_.value}),D.success(T(`common.${P.value}Success`)),w.value=!1,W("success")}catch{}finally{h.value=!1}},k=(u,e,p,s=!1)=>{if(u==="")return e[p]="",void(e.lastValidValue="");if(/^(0x)?[0-9a-fA-F]+$/.test(u)){const I=u.startsWith("0x")?u.substring(2):u,f=parseInt(I,16);if(!isNaN(f)&&f>0&&f<=255){const n=f.toString(16).toUpperCase();e[p]=n,e.lastValidValue=n}else H.warning("\u8BF7\u8F93\u51651\u5230FF\u4E4B\u95F4\u768416\u8FDB\u5236\u6570\u503C"),j(()=>{e[p]=s?"":e.lastValidValue||""})}else H.warning("\u8BF7\u8F93\u5165\u6709\u6548\u768416\u8FDB\u5236\u6570\u5B57 (0-9, A-F)"),j(()=>{e[p]=s?"":e.lastValidValue||""})},J=()=>{var u;o.value={serverIp:"",asrEnable:!1,textLen:10,autoHideTime:0,asrShowInput:"",transEnable:!1,transShowInput:"",transSource:"",transTarget:"",userMode:"",forwardMode:"",forwardIp:"",forwardPort:0},(u=U.value)==null||u.resetFields()};return(u,e)=>{const p=de,s=se,I=ue,f=ne,n=me,v=pe,y=ie,S=fe,K=ce,X=oe,Y=ge,Z=we;return b(),x(Y,{title:t(L),modelValue:t(w),"onUpdate:modelValue":e[14]||(e[14]=a=>ve(w)?w.value=a:null),style:{width:"1000px"}},{footer:r(()=>[l(y,{onClick:Q,type:"primary",loading:t(h)},{default:r(()=>e[23]||(e[23]=[g("\u786E \u5B9A")])),_:1},8,["loading"]),l(y,{onClick:e[13]||(e[13]=a=>w.value=!1)},{default:r(()=>e[24]||(e[24]=[g("\u53D6 \u6D88")])),_:1})]),default:r(()=>[re((b(),x(X,{ref_key:"formRef",ref:U,model:t(o),rules:t(q),"label-width":"120px"},{default:r(()=>[e[19]||(e[19]=V("h3",null,"\u901A\u7528",-1)),V("div",_e,[l(s,{label:"\u670D\u52A1\u5668IP",prop:"serverIp"},{default:r(()=>[l(p,{modelValue:t(o).serverIp,"onUpdate:modelValue":e[0]||(e[0]=a=>t(o).serverIp=a),placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5F00\u673A\u542F\u52A8",prop:"asrEnable"},{default:r(()=>[l(I,{modelValue:t(o).asrEnable,"onUpdate:modelValue":e[1]||(e[1]=a=>t(o).asrEnable=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"\u6700\u5927\u5B57\u7B26\u6570",prop:"textLen"},{default:r(()=>[l(f,{min:10,max:2e3,modelValue:t(o).textLen,"onUpdate:modelValue":e[2]||(e[2]=a=>t(o).textLen=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"\u81EA\u52A8\u9690\u85CF\u65F6\u95F4",prop:"autoHideTime"},{default:r(()=>[l(f,{min:0,max:3e4,modelValue:t(o).autoHideTime,"onUpdate:modelValue":e[3]||(e[3]=a=>t(o).autoHideTime=a)},null,8,["modelValue"])]),_:1})]),e[20]||(e[20]=V("h3",null,"\u8F6C\u5199",-1)),V("div",he,[l(s,{label:"\u8F6C\u5199\u663E\u793A",prop:"asrShowInput"},{default:r(()=>[l(v,{modelValue:t(o).asrShowInput,"onUpdate:modelValue":e[4]||(e[4]=a=>t(o).asrShowInput=a),placeholder:"\u8F6C\u5199\u663E\u793A",clearable:""},{default:r(()=>[(b(!0),F(R,null,z(t(A),a=>(b(),x(n,{key:a.name,label:a.showName,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),e[21]||(e[21]=V("h3",null,"\u7FFB\u8BD1",-1)),V("div",Ie,[l(s,{label:"\u542F\u7528\u7FFB\u8BD1",prop:"transEnable"},{default:r(()=>[l(I,{modelValue:t(o).transEnable,"onUpdate:modelValue":e[5]||(e[5]=a=>t(o).transEnable=a)},null,8,["modelValue"])]),_:1}),l(s,{label:"\u7FFB\u8BD1\u663E\u793A",prop:"transShowInput"},{default:r(()=>[l(v,{modelValue:t(o).transShowInput,"onUpdate:modelValue":e[6]||(e[6]=a=>t(o).transShowInput=a),placeholder:"\u7FFB\u8BD1\u663E\u793A",clearable:""},{default:r(()=>[(b(!0),F(R,null,z(t(A),a=>(b(),x(n,{key:a.name,label:a.showName,value:a.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u6E90\u8BED\u8A00",prop:"transSource"},{default:r(()=>[l(v,{modelValue:t(o).transSource,"onUpdate:modelValue":e[7]||(e[7]=a=>t(o).transSource=a),placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B"},{default:r(()=>[l(n,{label:"\u4E2D\u6587",value:"zh"}),l(n,{label:"\u82F1\u6587",value:"en"})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u76EE\u6807\u8BED\u8A00",prop:"transTarget"},{default:r(()=>[l(v,{modelValue:t(o).transTarget,"onUpdate:modelValue":e[8]||(e[8]=a=>t(o).transTarget=a),placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B"},{default:r(()=>[l(n,{label:"\u4E2D\u6587",value:"zh"}),l(n,{label:"\u82F1\u6587",value:"en"})]),_:1},8,["modelValue"])]),_:1})]),e[22]||(e[22]=V("h3",null,"\u89D2\u8272\u5206\u79BB",-1)),V("div",ye,[l(s,{label:"\u6A21\u5F0F",prop:"userMode"},{default:r(()=>[l(v,{modelValue:t(o).userMode,"onUpdate:modelValue":e[9]||(e[9]=a=>t(o).userMode=a),placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B"},{default:r(()=>[l(n,{label:"\u672C\u673A\u6A21\u5F0F",value:0}),l(n,{label:"\u6307\u4EE4\u6A21\u5F0F",value:1})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u8F6C\u53D1\u65B9\u5F0F",prop:"forwardMode"},{default:r(()=>[l(v,{modelValue:t(o).forwardMode,"onUpdate:modelValue":e[10]||(e[10]=a=>t(o).forwardMode=a),placeholder:"\u8BF7\u9009\u62E9\u7C7B\u578B"},{default:r(()=>[l(n,{label:"TCP",value:1}),l(n,{label:"UDP",value:0})]),_:1},8,["modelValue"])]),_:1}),l(s,{label:"\u8F6C\u53D1IP",prop:"forwardIp"},{default:r(()=>[l(p,{modelValue:t(o).forwardIp,"onUpdate:modelValue":e[11]||(e[11]=a=>t(o).forwardIp=a),placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(s,{label:"\u8F6C\u53D1\u7AEF\u53E3",prop:"forwardPort"},{default:r(()=>[l(f,{min:0,max:65535,modelValue:t(o).forwardPort,"onUpdate:modelValue":e[12]||(e[12]=a=>t(o).forwardPort=a)},null,8,["modelValue"])]),_:1})]),l(y,{type:"primary",onClick:O},{default:r(()=>e[15]||(e[15]=[g("\u65B0\u589E")])),_:1}),l(K,{data:t(_),style:{width:"100%"},"max-height":"300px"},{default:r(()=>[l(S,{prop:"name",label:"\u540D\u5B57"},{default:r(a=>[l(p,{modelValue:a.row.name,"onUpdate:modelValue":m=>a.row.name=m},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(S,{prop:"cmd",label:"\u5339\u914D\u6307\u4EE4\uFF0816\u8FDB\u5236\u8F93\u5165\uFF09"},{default:r(a=>[l(p,{modelValue:a.row.cmd,"onUpdate:modelValue":m=>a.row.cmd=m,style:{width:"150px"},onInput:m=>k(m,a.row,"cmd")},{prepend:r(()=>e[16]||(e[16]=[g("0x")])),_:2},1032,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(S,{prop:"forwardCmd",label:"\u8F6C\u53D1\u6307\u4EE4\uFF0816\u8FDB\u5236\u8F93\u5165\uFF09"},{default:r(a=>[l(p,{modelValue:a.row.forwardCmd,"onUpdate:modelValue":m=>a.row.forwardCmd=m,style:{width:"150px"},onInput:m=>k(m,a.row,"forwardCmd")},{prepend:r(()=>e[17]||(e[17]=[g("0x")])),_:2},1032,["modelValue","onUpdate:modelValue","onInput"])]),_:1}),l(S,{label:"\u64CD\u4F5C",width:"160"},{default:r(a=>[l(y,{link:"",type:"danger",size:"small",onClick:Ve(m=>{return E=a.$index,void _.value.splice(E,1);var E},["prevent"])},{default:r(()=>e[18]||(e[18]=[g(" \u5220\u9664 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1},8,["model","rules"])),[[Z,t(h)]])]),_:1},8,["title","modelValue"])}}}),[["__scopeId","data-v-c9505afd"]]),Se=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{$ as V,C as a,Se as v};
