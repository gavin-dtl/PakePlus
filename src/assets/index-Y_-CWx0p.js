import{d as ea,r as s,ar as ya,_ as la,c as C,o as m,f as i,g as oa,p as $,t as ta,at as f,k as Va,l as ba,a3 as Ca,b as ka,aP as _a,m as e,w as o,M as Sa,a5 as xa,a as n,a8 as Ma,A as Ua,F as L,y as P,z as D,B as Ta,ap as Aa,C as La,q as I,aR as Da,aS as Ia,a9 as Ea,s as Oa,ay as Pa,v as V,ao as ia,V as Ba,av as Ra,as as Fa}from"./index-h2IMwmcw.js";import{_ as $a}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CRNxIRVm.js";import{_ as qa,a as Ha,b as Ka,c as Na,d as ja,e as za}from"./layou2-DyNSnYpI.js";import{t as Ga}from"./index-CLJ9cSnE.js";const Qa=ea({name:"TableValidator",props:{modelValue:{type:[String,Number,Boolean,Array,Object],default:""},rules:{type:Array,default:()=>[]},immediate:{type:Boolean,default:!1}},emits:["update:modelValue","validate"],setup(d,{emit:h}){const k=s(""),v=s(!1),_=async x=>{const B=x!==void 0?x:d.modelValue;for(const p of d.rules)try{if(!await p.validator(B))return k.value=p.message,v.value=!0,h("validate",!1),!1}catch(E){return k.value=typeof E=="string"?E:"\u6821\u9A8C\u5931\u8D25",v.value=!0,h("validate",!1),!1}return k.value="",v.value=!1,h("validate",!0),!0};return d.immediate&&ya(()=>d.modelValue,_,{immediate:!0}),{currentError:k,showError:v,validateField:_}}}),Xa={class:"table-validator"},Ja={class:"validator-content"},Wa={class:"default-error-tip"},Ya=la(Qa,[["render",function(d,h,k,v,_,x){return m(),C("div",Xa,[i("div",Ja,[oa(d.$slots,"default",{validate:d.validateField},void 0,!0),d.showError?oa(d.$slots,"error",{key:0,error:d.currentError},()=>[i("span",Wa,ta(d.currentError),1)],!0):$("",!0)])])}],["__scopeId","data-v-5794789b"]]),w={getAudioCtrlType:async()=>await f.get({url:"/meeting/dict/dict/audioCtrlType"}),getAudioLevel:async()=>await f.get({url:"/meeting/dict/dict/audioLevel"}),setAudioSwitch:async d=>await f.post({url:"/meeting/switch/setAudioSwitch",data:d}),getAudioSwitchList:async()=>await f.get({url:"/meeting/switch/getAudioSwitchList"}),getAutoSwitchConfig:async()=>await f.get({url:"/meeting/switch/getAutoSwitchConfig"}),setAutoSwitchConfig:async d=>await f.post({url:"/meeting/switch/setAutoSwitchConfig",data:d}),switchMode:async()=>await f.get({url:"/meeting/dict/dict/switchMode"}),sceneSwitchList:async()=>await f.get({url:"/meeting/switch/sceneSwitchList"}),getSceneLayout:async()=>await f.get({url:"/meeting/dict/dict/sceneLayout"}),setSceneSwitch:async d=>await f.post({url:"/meeting/switch/setSceneSwitch",data:d})},Za={class:"verification"},ae={key:0,class:"error-tip"},ee={class:"audioctrlType"},le={class:"expanded-content"},oe=["onClick"],te=["onClick"],ie=["onClick"],ne=["onClick"],ue=["onClick"],de=["onClick"],re=["onClick"],se=["onClick"],ce={class:"dialog-footer"},pe=ea({name:"VideoStreaming",__name:"index",setup(d){const h=Va(),{t:k}=ba(),v=s("first"),_=s(!0),x=s([]),B=s(0),p=Ca({mixMicOpen:void 0,audioSwitchMode:void 0,cameraTrackingMode:void 0}),E=s(),na=async()=>{_.value=!0;try{x.value=data.list,B.value=data.total}finally{_.value=!1}},ua=[{validator:u=>(t=>typeof t=="number"||/^\d+$/.test(t))(u),message:"\u8BF7\u8F93\u5165\u6709\u6548\u6570\u5B57"}],q=s([]),H=async()=>{const u=await w.getAutoSwitchConfig();p.audioSwitchMode=u.audioSwitchMode,p.mixMicOpen=u.mixMicOpen,p.cameraTrackingMode=u.cameraTrackingMode},da=async()=>{await w.setAutoSwitchConfig(p),h.success("\u4FDD\u5B58\u6210\u529F"),H()},K=s([]),N=s([]),j=s([]),z=s([]),G=async()=>{z.value=await w.getAudioSwitchList()},ra=/^(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)){3}$/,Q=u=>!ra.test(u.audioIp)&&u.audioIp?(u.ipError="\u8BF7\u8F93\u5165\u6709\u6548\u7684IP\u5730\u5740 (\u5982: 192.168.1.1)",!1):(u.ipError="",!0),X=async u=>{(t=>Q(t))(u)?(await w.setAudioSwitch(u),G(),S.value=!1,h.success("\u4FDD\u5B58\u6210\u529F")):Fa.warning("\u8BF7\u4FEE\u6B63\u9519\u8BEF\u540E\u518D\u4FDD\u5B58")},J=s([]),sa=s([]),W=async()=>{const u=await w.sceneSwitchList();J.value=u.sceneList},S=s(!1),b=s({audioOpenDb:-60,audioCloseDb:-60}),y=(u,t)=>{u.thSceneConfig.layout=t},ca=s("");return ka(async()=>{await(async()=>{q.value=await w.getAudioCtrlType()})(),await(async()=>{K.value=await w.switchMode()})(),await H(),await G(),await(async()=>{N.value=await w.getAudioLevel()})(),await(async()=>{j.value=await Ga.getTrackingList()})(),await(async()=>{sa.value=await w.getSceneLayout()})(),await W(),await(async()=>{ca.value=await w.cameraType()})()}),(u,t)=>{const g=Ta,M=Ua,U=Ma,O=Aa,Y=xa,T=La,R=$a,F=Sa,c=Ia,pa=Ea,ma=Oa,A=Pa,wa=Ya,Z=Da,ga=Ba,fa=Ra,va=_a("DeviceTypeForm");return m(),C(L,null,[e(ga,{modelValue:n(v),"onUpdate:modelValue":t[3]||(t[3]=a=>ia(v)?v.value=a:null),class:"demo-tabs",onTabClick:u.handleClick},{default:o(()=>[e(F,{label:"\u5168\u5C40\u914D\u7F6E",name:"first"},{default:o(()=>[e(R,null,{default:o(()=>[e(Y,{class:"-mb-15px",model:n(p),ref_key:"queryFormRef",ref:E,inline:!0,"label-width":"150px"},{default:o(()=>[e(U,{label:"\u8BDD\u7B52\u6A21\u5F0F",prop:"audioSwitchMode"},{default:o(()=>[e(M,{modelValue:n(p).audioSwitchMode,"onUpdate:modelValue":t[0]||(t[0]=a=>n(p).audioSwitchMode=a),placeholder:"\u8BF7\u9009\u62E9\u8F93\u5165\u6E90",class:"!w-240px"},{default:o(()=>[(m(!0),C(L,null,P(n(K),(a,l)=>(m(),D(g,{key:l,label:a.info,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(U,{label:"\u8BDD\u7B52\u6700\u5927\u6253\u5F00\u6570\u91CF",prop:"mixMicOpen"},{default:o(()=>[e(M,{modelValue:n(p).mixMicOpen,"onUpdate:modelValue":t[1]||(t[1]=a=>n(p).mixMicOpen=a),placeholder:"\u8BF7\u8F93\u5165\u8BDD\u7B52\u6700\u5927\u6253\u5F00\u6570\u91CF",class:"!w-240px"},{default:o(()=>[e(g,{label:"1",value:1}),e(g,{label:"2",value:2}),e(g,{label:"3",value:3}),e(g,{label:"4",value:4}),e(g,{label:"5",value:5}),e(g,{label:"6",value:6})]),_:1},8,["modelValue"])]),_:1}),e(U,{label:"\u6444\u50CF\u5934\u8DDF\u8E2A",prop:"cameraTrackingMode"},{default:o(()=>[e(O,{"active-value":1,"inactive-value":0,modelValue:n(p).cameraTrackingMode,"onUpdate:modelValue":t[2]||(t[2]=a=>n(p).cameraTrackingMode=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e(T,{class:"heard-button",style:{float:"right",margin:"10px 10px 10px 0"},type:"primary",onClick:da},{default:o(()=>t[9]||(t[9]=[I(" \u4FDD\u5B58")])),_:1})]),_:1})]),_:1}),e(F,{label:"\u8BDD\u7B52\u8BBE\u7F6E",name:"second"},{default:o(()=>[e(R,null,{default:o(()=>[e(Z,{data:n(z),stripe:!0,"max-height":"500px"},{default:o(()=>[e(c,{label:"\u8BDD\u7B52\u540D\u79F0",align:"center",prop:"name"}),e(c,{label:"\u81EA\u52A8\u5BFC\u64AD",align:"center",prop:"audioSwitchEnable",width:"100"},{default:o(a=>[e(O,{modelValue:a.row.audioSwitchEnable,"onUpdate:modelValue":l=>a.row.audioSwitchEnable=l},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u8BDD\u7B52IP",align:"center",prop:"audioIp"},{default:o(a=>[i("div",Za,[e(pa,{modelValue:a.row.audioIp,"onUpdate:modelValue":l=>a.row.audioIp=l,onBlur:l=>Q(a.row),onInput:l=>{var r;(r=a.row).ipError&&(r.ipError="")},placeholder:"\u8BF7\u8F93\u5165\u8BDD\u7B52IP"},null,8,["modelValue","onUpdate:modelValue","onBlur","onInput"]),a.row.ipError?(m(),C("span",ae,ta(a.row.ipError),1)):$("",!0)])]),_:1}),e(c,{label:"\u63A7\u5236\u7C7B\u578B",align:"center",prop:"audioCtrlType"},{default:o(a=>[i("div",ee,[e(M,{modelValue:a.row.audioCtrlType,"onUpdate:modelValue":l=>a.row.audioCtrlType=l,placeholder:"\u8BF7\u9009\u62E9\u8F93\u5165\u6E90",class:"!w-100px"},{default:o(()=>[(m(!0),C(L,null,P(n(q),(l,r)=>(m(),D(g,{key:r,label:l.info,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),a.row.audioCtrlType==2?(m(),D(ma,{key:0,onClick:l=>{return r=a.row,b.value=r,void(S.value=!0);var r},class:"setting",icon:"ep:setting"},null,8,["onClick"])):$("",!0)])]),_:1}),e(c,{label:"\u4F18\u5148\u7EA7",align:"center",prop:"audioLevel"},{default:o(a=>[e(M,{modelValue:a.row.audioLevel,"onUpdate:modelValue":l=>a.row.audioLevel=l,placeholder:"\u8BF7\u9009\u62E9\u8F93\u5165\u6E90",class:"!w-100px"},{default:o(()=>[(m(!0),C(L,null,P(n(N),(l,r)=>(m(),D(g,{key:r,label:l.info,value:l.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u8BA1\u5165\u6700\u5927\u6253\u5F00\u6570\u91CF",align:"center",prop:"audioRecordInMax"},{default:o(a=>[e(O,{modelValue:a.row.audioRecordInMax,"onUpdate:modelValue":l=>a.row.audioRecordInMax=l},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u8BDD\u7B52\u6253\u5F00\u4FDD\u7559\u65F6\u95F4",align:"center",prop:"audioDurationMs",width:"179"},{default:o(a=>[e(A,{modelValue:a.row.audioDurationMs,"onUpdate:modelValue":l=>a.row.audioDurationMs=l,min:10,max:6e4,class:"!w-150px"},{suffix:o(()=>t[10]||(t[10]=[i("span",null,"ms",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u8DDF\u8E2A\u6444\u50CF\u5934",align:"center",prop:"trackingCamera",width:"180"},{default:o(a=>[e(M,{modelValue:a.row.trackingCamera,"onUpdate:modelValue":l=>a.row.trackingCamera=l,placeholder:"\u8BF7\u9009\u62E9\u8F93\u5165\u6E90",class:"!w-100px"},{default:o(()=>[(m(!0),C(L,null,P(n(j),(l,r)=>(m(),D(g,{key:r,label:l.name,value:l.name},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u8DDF\u8E2A\u9884\u7F6E\u4F4D",align:"center",prop:"trackingPosition",width:"180"},{default:o(a=>[e(wa,{modelValue:a.row.trackingPosition,"onUpdate:modelValue":l=>a.row.trackingPosition=l,rules:ua,onValidate:l=>((r,aa,ha)=>{r[aa]=ha})(a.row,"trackingPositionValid",l)},{default:o(({validate:l})=>[e(A,{modelValue:a.row.trackingPosition,"onUpdate:modelValue":r=>a.row.trackingPosition=r,min:1,max:255,class:"!w-150px",onChange:r=>l(a.row.trackingPosition)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["modelValue","onUpdate:modelValue","onValidate"])]),_:1}),e(c,{label:"\u6444\u50CF\u8DDF\u8E2A\u4FDD\u7559\u65F6\u95F4",align:"center",prop:"trackingDurationMs",width:"180"},{default:o(a=>[e(A,{modelValue:a.row.trackingDurationMs,"onUpdate:modelValue":l=>a.row.trackingDurationMs=l,min:10,max:6e4,class:"!w-150px"},{suffix:o(()=>t[11]||(t[11]=[i("span",null,"ms",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u64CD\u4F5C",align:"center","min-width":"120px"},{default:o(a=>[e(T,{link:"",type:"primary",onClick:l=>X(a.row)},{default:o(()=>t[12]||(t[12]=[I(" \u4FDD\u5B58 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),e(F,{label:"\u89C6\u9891\u5BFC\u64AD",name:"third"},{default:o(()=>[e(R,null,{default:o(()=>[e(Z,{data:n(J),stripe:!0,"show-overflow-tooltip":!1,"max-height":"300"},{default:o(()=>[e(c,{label:"\u540D\u5B57",align:"center",prop:"sceneName"}),e(c,{label:"\u81EA\u52A8\u5BFC\u64AD",align:"center",prop:"autoSwitch"},{default:o(a=>[e(O,{modelValue:a.row.thSceneConfig.autoSwitch,"onUpdate:modelValue":l=>a.row.thSceneConfig.autoSwitch=l},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(c,{label:"\u89C6\u9891\u5E03\u5C40",align:"center",prop:"layout"},{default:o(a=>[i("div",le,[i("p",{class:V(a.row.thSceneConfig.layout==9?"option-active":""),onClick:l=>y(a.row,9)},t[13]||(t[13]=[i("span",null,"\u81EA\u5B9A\u4E49",-1)]),10,oe),i("p",{class:V(a.row.thSceneConfig.layout==0?"option-active":"")},[i("img",{class:"option",onClick:l=>y(a.row,0),alt:"",src:qa},null,8,te)],2),i("p",{class:V(a.row.thSceneConfig.layout==2?"option-active":"")},[i("img",{class:"option",onClick:l=>y(a.row,2),alt:"",src:Ha},null,8,ie)],2),i("p",{class:V(a.row.thSceneConfig.layout==3?"option-active":"")},[i("img",{class:"option",onClick:l=>y(a.row,3),alt:"",src:Ka},null,8,ne)],2),i("p",{class:V(a.row.thSceneConfig.layout==5?"option-active":"")},[i("img",{class:"option",onClick:l=>y(a.row,5),alt:"",src:Na},null,8,ue)],2),i("p",{class:V(a.row.thSceneConfig.layout==7?"option-active":"")},[i("img",{class:"option",onClick:l=>y(a.row,7),alt:"",src:ja},null,8,de)],2),i("p",{class:V(a.row.thSceneConfig.layout==8?"option-active":"")},[i("img",{class:"option",onClick:l=>y(a.row,8),alt:"",src:za},null,8,re)],2),i("p",{class:V(a.row.thSceneConfig.layout==10?"option-active":""),onClick:l=>y(a.row,10)},t[14]||(t[14]=[i("span",null,"\u81EA\u52A8",-1)]),10,se)])]),_:1}),e(c,{label:"\u64CD\u4F5C",align:"center","min-width":"120px"},{default:o(a=>[e(T,{link:"",type:"primary",onClick:l=>(async r=>{try{await w.setSceneSwitch(r),W(),h.success("\u4FDD\u5B58\u6210\u529F")}catch{}})(a.row)},{default:o(()=>t[15]||(t[15]=[I(" \u4FDD\u5B58 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1},8,["modelValue","onTabClick"]),e(fa,{title:"\u8BED\u8A00\u6FC0\u52B1",modelValue:n(S),"onUpdate:modelValue":t[8]||(t[8]=a=>ia(S)?S.value=a:null)},{footer:o(()=>[i("div",ce,[e(T,{class:"heard-button",onClick:t[6]||(t[6]=a=>S.value=!1)},{default:o(()=>t[16]||(t[16]=[I(" \u53D6\u6D88")])),_:1}),e(T,{class:"heard-button",onClick:t[7]||(t[7]=a=>X(n(b)))},{default:o(()=>t[17]||(t[17]=[I(" \u4FDD\u5B58")])),_:1})])]),default:o(()=>[e(Y,{class:"-mb-15px",model:n(b),inline:!0,"label-width":"150px"},{default:o(()=>[e(U,{label:"\u6253\u5F00\u97F3\u91CF",prop:"audioOpenDb"},{default:o(()=>[e(A,{modelValue:n(b).audioOpenDb,"onUpdate:modelValue":t[4]||(t[4]=a=>n(b).audioOpenDb=a),min:-60,max:0,class:"!w-150px"},null,8,["modelValue"])]),_:1}),e(U,{label:"\u5173\u95ED\u97F3\u91CF",prop:"audioCloseDb"},{default:o(()=>[e(A,{modelValue:n(b).audioCloseDb,"onUpdate:modelValue":t[5]||(t[5]=a=>n(b).audioCloseDb=a),min:-60,max:0,class:"!w-150px"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(va,{ref:"formRef",onSuccess:na},null,512)],64)}}}),me=la(pe,[["__scopeId","data-v-b6e80ea4"]]);export{me as default};
