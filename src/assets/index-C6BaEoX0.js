import{d as J,p as W,q as Y,r as n,b as Z,e as $,c as u,o as s,j as o,f as m,s as i,F as N,i as I,a as l,C as A,O as ee,ap as ae,X as te,v as L,n as T,t as h,z as oe,H as ie,aN as re,x as _,U as le,V as ne,S as se,aS as me,Q as V,aR as pe,_ as ce}from"./index-DzCoMBOl.js";import{A as x}from"./index-CeQQwn2D.js";import ue from"./index-BrQIyxwh.js";import{c as U}from"./index-rlvHcC8G.js";import{S as de}from"./index-CGI02iyP.js";import{_ as fe}from"./inputSoureForm.vue_vue_type_script_setup_true_lang-CYiKP01I.js";import"./index-DRFCKsy1.js";import"./mitt-CI7Qv1RY.js";import"./vuedraggable.umd-DRnoypjo.js";import"./NDIsetup.vue_vue_type_script_setup_true_lang-CiLV0VRh.js";import"./streamingMediaSetup-zPG4cFX6.js";import"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-Gdsu9Jdn.js";import"./Dialog.vue_vue_type_style_index_0_lang-v5RKlSVj.js";import"./globalFiles-CnarKSOx.js";import"./UploadFile-Cag7jI4k.js";import"./meetingFiles-BIa0dzBF.js";import"./index-q5044CqW.js";import"./browserSourceSetup.vue_vue_type_script_setup_true_lang-ZxoruRSV.js";import"./dshowInputSetup.vue_vue_type_script_setup_true_lang-CGqnXjZT.js";import"./monitorCaptureSetup.vue_vue_type_script_setup_true_lang-B9pFM40u.js";import"./windowCaptureSetup.vue_vue_type_script_setup_true_lang-CBfJTJRc.js";import"./colorSetup.vue_vue_type_script_setup_true_lang-DNhJFT6P.js";import"./TextGdiplusSetup.vue_vue_type_script_setup_true_lang-BXnB12Gk.js";import"./ImageSourceSetup.vue_vue_type_script_setup_true_lang-CQ7HOeQW.js";import"./VlcSourceSetup-DztVQoif.js";import"./pictureSlidesSetup-ClvOFMzw.js";import"./wasapiInputCaptureSetup.vue_vue_type_script_setup_true_lang-LjnZw8vZ.js";import"./wasapiOutputCaptureSetup.vue_vue_type_script_setup_true_lang-BgNlO5Yi.js";import"./noiseSuppressionFilters.vue_vue_type_script_setup_true_lang-wB_HleB4.js";import"./BasicEqFilter.vue_vue_type_script_setup_true_lang-DbZWp7vR.js";import"./CompressorFilter.vue_vue_type_script_setup_true_lang-vN-FH7CF.js";import"./NDIAudiofilter.vue_vue_type_script_setup_true_lang-DsGDg_P9.js";import"./VstFilter.vue_vue_type_script_setup_true_lang-DxWtSP6c.js";import"./JuceEqFilter.vue_vue_type_script_setup_true_lang-BcMKAi0T.js";import"./InvertPolarityFilter.vue_vue_type_script_setup_true_lang-BKjxFeEU.js";import"./AsyncDelayFilter.vue_vue_type_script_setup_true_lang-CGs_Jz0E.js";import"./AudioMonitor.vue_vue_type_script_setup_true_lang-BkVKxMQ0.js";import"./AutosubFilter.vue_vue_type_script_setup_true_lang-DIRtrQ0I.js";import"./ChromaKeyFilterV2.vue_vue_type_script_setup_true_lang-Cg2Ea7oO.js";import"./ClutFilter.vue_vue_type_script_setup_true_lang-CCgGdv2D.js";import"./ColorFilterV2.vue_vue_type_script_setup_true_lang-bKflRcua.js";import"./ColorKeyFilterV2.vue_vue_type_script_setup_true_lang-CPpoFQNM.js";import"./CropFilter.vue_vue_type_script_setup_true_lang-DqelDlN-.js";import"./ExpanderFilter.vue_vue_type_script_setup_true_lang-C6m8OeIG.js";import"./GainFilter.vue_vue_type_script_setup_true_lang-BMzy1QCC.js";import"./GpuDelay.vue_vue_type_script_setup_true_lang-DUaX4OKt.js";import"./HdrTonemapFilter.vue_vue_type_script_setup_true_lang-DhSLPLtQ.js";import"./LimiterFilter.vue_vue_type_script_setup_true_lang-CPypKbCq.js";import"./LumaKeyFilterV2.vue_vue_type_script_setup_true_lang-BK8du8dm.js";import"./MaskFilterV2.vue_vue_type_script_setup_true_lang-CFGlnN9z.js";import"./MicCtrlFilterV2.vue_vue_type_script_setup_true_lang-B6DYlZya.js";import"./NDIFilter.vue_vue_type_script_setup_true_lang-BN3AthoZ.js";import"./NoiseFateFilter.vue_vue_type_script_setup_true_lang--S7T38dW.js";import"./ScaleFilter.vue_vue_type_script_setup_true_lang-COrqTzol.js";import"./ScrollFilter.vue_vue_type_script_setup_true_lang-DeP2pp0Y.js";import"./SharpnessFilterV2.vue_vue_type_script_setup_true_lang-fL0TwcOo.js";import"./SourceRecordFilter.vue_vue_type_script_setup_true_lang-BnSpAXij.js";import"./UpwardCompressorFilter.vue_vue_type_script_setup_true_lang-DBmWnHkI.js";import"./AudioDelayFilter.vue_vue_type_script_setup_true_lang-DvQW7NHm.js";import"./index-3hmPX4Qn.js";const ve={class:"main"},ye={key:0,class:"scene-list"},ke=["onClick"],ge={style:{display:"flex","align-items":"center","margin-left":"20px"}},we={class:"scene-body"},_e=J({name:"AudioSourceManagement",__name:"index",setup(Ce){const d=W(),{t:b}=Y();n();const F=n(),k=n([]),K=async()=>{var a,p;const t=await x.getScencList();t.sceneList.forEach(v=>{v.type=v.sceneName==t.currentProgramSceneName}),k.value=t.sceneList,k.value.length>0&&(g((a=k.value[0])==null?void 0:a.sceneName),r.value=(p=k.value[0])==null?void 0:p.sceneName)};n(!1);const r=n(""),P=t=>{r.value=t.sceneName,setTimeout(()=>{g(r.value)},100)},R=n([]),g=async(t,a)=>{const p=a||f.value,v={classId:p,sceneName:p==1?t:""},S=await x.getAudioInput(v);R.value=S},q=async()=>{const t=await d.validatePrompt("\u8BF7\u8F93\u5165\u573A\u666F\u540D\u79F0",b("\u65B0\u589E\u573A\u666F"),{inputValue:"",validator:a=>!!a||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await U.createScene({name:t.value}),K(),d.success("\u65B0\u589E\u6210\u529F")},j=n(),D=t=>{j.value.open(t.name,r.value,t.kind)},z=n([]),f=n(1),H=n([]),E=t=>{g(r.value,t.paneName)};return Z(()=>{K(),(async()=>H.value=await x.getAudioClassList())(),(async()=>z.value=await x.getAudioKindList())()}),$(()=>{}),(t,a)=>{const p=ee,v=te,S=oe,C=ie,G=ne,O=le,Q=se,w=me,X=pe;return s(),u(N,null,[o(v,{modelValue:l(f),"onUpdate:modelValue":a[0]||(a[0]=e=>ae(f)?f.value=e:null),class:"demo-tabs",onTabClick:E},{default:i(()=>[(s(!0),u(N,null,I(l(H),e=>(s(),A(p,{label:e.name,key:e.id,name:e.id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),m("div",ve,[l(f)==1?(s(),u("div",ye,[a[2]||(a[2]=m("p",{class:"title"},"\u89C6\u9891\u6E90\u8F93\u51FA\u5217\u8868",-1)),o(S,{height:"calc(100vh - 190px)"},{default:i(()=>[(s(!0),u(N,null,I(l(k),e=>(s(),u("div",{style:T({backgroundColor:e.sceneName==l(r)?"#409efe":"#f1f1f1",color:e.sceneName==l(r)?"#fcfcfc":"#2e3235"}),key:e,class:"scrollbar-item",onClick:y=>P(e)},[e.type?(s(),u("p",{key:0,class:"icon",style:T({backgroundColor:e.type?"red":""})},null,4)):L("",!0),m("p",ge,h(e.sceneName),1)],12,ke))),128))]),_:1}),m("div",{style:{"background-color":"white"}},[m("p",{class:"scene-list-button",onClick:q},"\u65B0\u589E\u89C6\u9891\u8F93\u51FA")])])):L("",!0),m("div",we,[o(Q,{placement:"top",trigger:"click","max-height":"300px",onCommand:D},{dropdown:i(()=>[o(O,null,{default:i(()=>[(s(!0),u(N,null,I(l(z),e=>(s(),A(G,{command:e,key:e.kind,style:{width:"180px"}},{default:i(()=>[_(h(e.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:i(()=>[o(C,{type:"primary",icon:l(re)},{default:i(()=>a[3]||(a[3]=[_("\u65B0\u589E")])),_:1},8,["icon"])]),_:1}),o(X,{data:l(R),style:{width:"100%",padding:"0 20px","margin-top":"15px"},height:"100%"},{default:i(()=>[o(w,{prop:"name",label:"\u540D\u79F0"}),o(w,{prop:"showName",label:"\u663E\u793A\u540D\u79F0"}),o(w,{prop:"inputKind",label:"\u7C7B\u578B"},{default:i(e=>[m("span",null,h(e.row.inputKind),1)]),_:1}),o(w,{prop:"name",label:"\u6EE4\u955C"},{default:i(e=>{var y;return[m("span",null,h(((y=e.row.filterList)==null?void 0:y.join(","))||""),1)]}),_:1}),o(w,{fixed:"right",label:"\u64CD\u4F5C",width:"170"},{default:i(e=>[o(C,{link:"",type:"primary",onClick:V(y=>{return c=e.row,void F.value.open(c.name);var c},["prevent"])},{default:i(()=>a[4]||(a[4]=[_(" \u8BBE\u7F6E ")])),_:2},1032,["onClick"]),o(C,{link:"",type:"primary",onClick:V(y=>(async c=>{const M=await d.validatePrompt("\u8BF7\u8F93\u5165\u65B0\u7684\u8F93\u5165\u6E90\u540D\u79F0",b("\u91CD\u547D\u540D"),{inputValue:c.name,validator:B=>!!B||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await U.renameInput({oldInputName:c.name,newInputName:M.value}),g(r.value),d.success("\u91CD\u547D\u540D\u6210\u529F")})(e.row),["prevent"])},{default:i(()=>a[5]||(a[5]=[_(" \u91CD\u547D\u540D ")])),_:2},1032,["onClick"]),l(f)==1?(s(),A(C,{key:0,link:"",type:"danger",onClick:V(y=>(async c=>{try{await d.delConfirm(b("common.delMessage")),await de.removeAudioInput({sceneName:r.value,inputName:c.name}),g(r.value),d.success(b("common.delSuccess"))}catch{}})(e.row),["prevent"])},{default:i(()=>a[6]||(a[6]=[_(" \u5220\u9664 ")])),_:2},1032,["onClick"])):L("",!0)]),_:1})]),_:1},8,["data"]),o(ue,{ref_key:"ConfigurationFormRef",ref:F},null,512),o(fe,{onSuccess:a[1]||(a[1]=e=>P({sceneName:l(r)})),ref_key:"InputSourceFormRef",ref:j},null,512)])])],64)}}}),be=ce(_e,[["__scopeId","data-v-36bcd9e1"]]);export{be as default};
