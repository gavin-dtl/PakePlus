import{d as h,q as w,p as y,r,a4 as S,b as k,w as x,C as n,o as s,s as l,j as c,a9 as D,D as j,a as t,c as V,F as $,i as q,G as z,a6 as A}from"./index-Cv_H95TD.js";import{c as C}from"./index-DZZPDAJY.js";const I=h({name:"DshowInputSetup",__name:"dshowInputSetup",props:{config:{type:Object,default:()=>{}}},setup(p,{expose:_}){const i=p,{t:Z}=w();y();const e=r({video_device_id:"",active:!1,deactivate_when_not_showing:1,res_type:"",resolution:"",frame_interval:1,video_format:"",color_space:"",color_range:"",buffering:"",flip_vertically:"",autorotation:"",hw_decode:"",audio_output_mode:"",use_custom_audio_device:"",audio_device_id:""}),g=S({nickname:[{pattern:/^.{1,30}$/,message:"\u8BF7\u8F93\u51651-30\u4E3A\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u7528\u6237\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d]{8,16}$/,message:"8-16\u4F4D\u6570\u5B57\u5927\u5C0F\u5199\u5B57\u6BCD\u7684\u7EC4\u5408",trigger:"blur"}],email:[{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740",trigger:["blur","change"]}],mobile:[{pattern:/^(?:(?:\+|00)86)?1(?:3[\d]|4[5-79]|5[0-35-9]|6[5-7]|7[0-8]|8[\d]|9[189])\d{8}$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}]}),o=r();_({getData:async()=>{if(o)return await o.value.validate()?{...i.config,inputSetting:e.value}:void 0}});const d=r([]);return k(()=>{(async()=>d.value=await C.getCameraList())()}),x(()=>{i.config&&i.config.inputSetting&&(e.value=i.config.inputSetting)}),(F,u)=>{const m=z,v=j,f=D,b=A;return s(),n(b,{ref_key:"formRef",ref:o,model:t(e),rules:t(g),"label-width":"140px"},{default:l(()=>[c(f,{label:"\u8BBE\u5907",prop:"video_device_id"},{default:l(()=>[c(v,{modelValue:t(e).video_device_id,"onUpdate:modelValue":u[0]||(u[0]=a=>t(e).video_device_id=a),placeholder:"\u8BF7\u9009\u62E9",clearable:""},{default:l(()=>[(s(!0),V($,null,q(t(d),a=>(s(),n(m,{key:a.path,label:a.name,value:a.path},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}});export{I as _};
