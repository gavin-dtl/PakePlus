import{d as z,q as k,p as C,r as f,a4 as R,b as q,w as D,C as i,o as p,s as u,j as l,v as j,a9 as A,ac as $,a,aa as L,f as O,az as Z,H as B,x as F,D as G,G as H,a6 as I}from"./index-Cv_H95TD.js";import{_ as W}from"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-D4vxqz6w.js";const E=z({name:"BrowserSourceSetup",__name:"browserSourceSetup",props:{config:{type:Object,default:()=>{}}},setup(V,{expose:v}){const n=V,{t:J}=k();C();const e=f({url:"https://",height:1,width:1,reroute_audio:!1,fps_custom:!1,fps:1,css:"",shutdown:!1,restart_when_active:!1,local_file:"",is_local_file:!1,webpage_control_level:0}),h=R({nickname:[{required:!0,message:"\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{pattern:/^.{1,30}$/,message:"\u8BF7\u8F93\u51651-30\u4E3A\u5B57\u7B26",trigger:"blur"}],password:[{required:!0,message:"\u7528\u6237\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d]{8,16}$/,message:"8-16\u4F4D\u6570\u5B57\u5927\u5C0F\u5199\u5B57\u6BCD\u7684\u7EC4\u5408",trigger:"blur"}],email:[{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740",trigger:["blur","change"]}],mobile:[{pattern:/^(?:(?:\+|00)86)?1(?:3[\d]|4[5-79]|5[0-35-9]|6[5-7]|7[0-8]|8[\d]|9[189])\d{8}$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}]}),m=f();v({getData:async()=>{if(m)return await m.value.validate()?{...n.config,inputSetting:e.value}:void 0}});const g=f(),w=()=>{g.value.open({name:"\u5168\u5C40\u6587\u4EF6"})},y=b=>{e.value.local_file=b.path};return q(()=>{}),D(()=>{n.config&&n.config.inputSetting&&(e.value=n.config.inputSetting)}),(b,o)=>{const d=$,s=A,_=L,c=Z,U=B,r=H,x=G,S=I;return p(),i(S,{ref_key:"formRef",ref:m,model:a(e),rules:a(h),"label-width":"140px"},{default:u(()=>[l(s,{prop:"is_local_file"},{default:u(()=>[l(d,{modelValue:a(e).is_local_file,"onUpdate:modelValue":o[0]||(o[0]=t=>a(e).is_local_file=t),label:"\u672C\u5730\u6587\u4EF6",size:"large"},null,8,["modelValue"])]),_:1}),a(e).is_local_file?(p(),i(s,{key:0,label:"\u672C\u5730\u6587\u4EF6",prop:"local_file"},{default:u(()=>[l(_,{modelValue:a(e).local_file,"onUpdate:modelValue":o[1]||(o[1]=t=>a(e).local_file=t),size:"large"},{append:u(()=>[O("div",{onClick:w,style:{padding:"0 20px"}},"\u6D4F\u89C8")]),_:1},8,["modelValue"])]),_:1})):(p(),i(s,{key:1,label:"URL",prop:"url"},{default:u(()=>[l(_,{modelValue:a(e).url,"onUpdate:modelValue":o[2]||(o[2]=t=>a(e).url=t)},null,8,["modelValue"])]),_:1})),l(s,{label:"\u9AD8\u5EA6",prop:"ndi_source_name"},{default:u(()=>[l(c,{style:{"margin-left":"22px"},modelValue:a(e).height,"onUpdate:modelValue":o[3]||(o[3]=t=>a(e).height=t),min:1,max:2160},null,8,["modelValue"])]),_:1}),l(s,{label:"\u5BBD\u5EA6",prop:"ndi_source_name"},{default:u(()=>[l(c,{style:{"margin-left":"22px"},modelValue:a(e).width,"onUpdate:modelValue":o[4]||(o[4]=t=>a(e).width=t),min:1,max:3840},null,8,["modelValue"])]),_:1}),l(s,null,{default:u(()=>[l(d,{modelValue:a(e).reroute_audio,"onUpdate:modelValue":o[5]||(o[5]=t=>a(e).reroute_audio=t),label:"\u901A\u8FC7AV\u63A7\u5236\u97F3\u9891",size:"large"},null,8,["modelValue"]),l(d,{modelValue:a(e).fps_custom,"onUpdate:modelValue":o[6]||(o[6]=t=>a(e).fps_custom=t),label:"\u4F7F\u7528\u81EA\u5B9A\u4E49\u5E27\u7387\uFF0C\u5237\u65B0\u6D4F\u89C8\u5668",size:"large"},null,8,["modelValue"])]),_:1}),a(e).fps_custom?(p(),i(s,{key:2,label:"\u5E27\u7387",prop:"fps"},{default:u(()=>[l(c,{style:{"margin-left":"22px"},modelValue:a(e).fps,"onUpdate:modelValue":o[7]||(o[7]=t=>a(e).fps=t),min:1,max:60},null,8,["modelValue"])]),_:1})):j("",!0),l(s,{label:"\u81EA\u5B9A\u4E49CSS",prop:"css"},{default:u(()=>[l(_,{modelValue:a(e).css,"onUpdate:modelValue":o[8]||(o[8]=t=>a(e).css=t),maxlength:"255",type:"textarea"},null,8,["modelValue"])]),_:1}),l(s,{prop:"restart_on_activate"},{default:u(()=>[l(d,{modelValue:a(e).shutdown,"onUpdate:modelValue":o[9]||(o[9]=t=>a(e).shutdown=t),label:"\u5F53\u4E0D\u53EF\u89C1\u65F6\u5173\u95ED\u6E90",size:"large"},null,8,["modelValue"]),l(d,{modelValue:a(e).restart_when_active,"onUpdate:modelValue":o[10]||(o[10]=t=>a(e).restart_when_active=t),label:"\u5F53\u573A\u666F\u53D8\u4E3A\u6D3B\u52A8\u72B6\u6001\u65F6\uFF0C\u5237\u65B0\u6D4F\u89C8\u5668",size:"large"},null,8,["modelValue"])]),_:1}),l(s,null,{default:u(()=>[l(U,{type:"success",plain:""},{default:u(()=>o[12]||(o[12]=[F("\u5237\u65B0\u5F53\u524D\u9875\u9762\u7F13\u5B58todo")])),_:1})]),_:1}),l(s,{label:"\u9875\u9762\u6743\u9650",prop:"webpage_control_level"},{default:u(()=>[l(x,{modelValue:a(e).webpage_control_level,"onUpdate:modelValue":o[11]||(o[11]=t=>a(e).webpage_control_level=t),placeholder:"\u8BF7\u9009\u62E9",clearable:""},{default:u(()=>[l(r,{label:"\u6CA1\u6709\u5BF9av\u7684\u8BBF\u95EE\u6743\u9650",value:0}),l(r,{label:"WebpageControl.Level.ReadObs",value:1}),l(r,{label:"\u7528\u6237\u4FE1\u606F\u7684\u8BFB\u53D6\u6743\u9650\uFF08\u5F53\u524D\u573A\u666F\u96C6\u5408\u3001\u8F6C\u573A\u52A8\u753B\uFF09",value:2}),l(r,{label:"av\u7684\u57FA\u672C\u8BBF\u95EE\u6743\u9650\uFF08\u4FDD\u5B58\u56DE\u653E\u7F13\u51B2\u7B49\uFF09",value:3}),l(r,{label:"av\u7684\u9AD8\u7EA7\u8BBF\u95EE\u6743\u9650\uFF08\u66F4\u6539\u573A\u666F\u3001\u542F\u52A8\u6216\u505C\u6B62\u64AD\u653E\u7F13\u51B2\u7B49\uFF09",value:4}),l(r,{label:"av\u7684\u5B8C\u5168\u8BBF\u95EE\u6743\u9650\uFF08\u5F53\u542F\u52A8\u6216\u505C\u6B62\u4E32\u6D41\u65F6\u4E0D\u663E\u793A\u8B66\u544A\u7B49\uFF09",value:5})]),_:1},8,["modelValue"])]),_:1}),l(W,{ref_key:"globalFilesDIalogRef",ref:g,onSuccess:y},null,512)]),_:1},8,["model","rules"])}}});export{E as _};
