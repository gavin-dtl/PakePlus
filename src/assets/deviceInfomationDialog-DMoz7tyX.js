import{au as t,d as j,r as c,h,w as q,b as B,c as g,o as y,v as m,n as L,f as o,j as w,J as E,s as I,a as O,bT as G,F as N,i as z,A as J,t as K,bU as $,_ as U}from"./index-DwcZmOlQ.js";import{e as W}from"./mitt-CI7Qv1RY.js";const T={getGuideStrategyConfiguration:async a=>await t.get({url:"/api/edu/config/getSwitch",ip:a}),updaatGuideStrategyConfiguration:async(a,i)=>await t.post({url:"/api/edu/config/setSwitch",data:a,ip:i}),getPictureRecording:async(a,i)=>await t.post({url:"/api/record/video/list",data:a,ip:i}),getVideoDetailOptions:async(a,i)=>await t.get({url:"/api/record/video/metadata",params:a,ip:i}),deleteVideo:async(a,i)=>await t.post({url:"/api/record/video/remove",data:a,ip:i}),getIpAddress:async a=>await t.get({url:"/api/core/system/net",ip:a}),getSystemConfiguration:async a=>await t.get({url:"/api/edu/config/getSystem",ip:a}),updataSystemConfiguration:async(a,i)=>await t.post({url:"/api/edu/config/setSystem",data:a,ip:i}),getFormatOptions:async a=>await t.get({url:"/api/edu/dict/videoFormat",ip:a}),getRecordingResolutionOptions:async a=>await t.get({url:"/api/edu/dict/videoSize",ip:a}),getRecordingBitrateOptionsOptions:async a=>await t.get({url:"/api/edu/dict/videoRate",ip:a}),getRecordingFrameRateOptions:async a=>await t.get({url:"/api/edu/dict/videoFrame",ip:a}),getTapeSet:async a=>await t.get({url:"/api/edu/config/getRecord",ip:a}),updataTapeSet:async(a,i)=>await t.post({url:"/api/edu/config/setRecord",data:a,ip:i}),getLiveStreamingFormat:async a=>await t.get({url:"/api/edu/dict/eduPushType",ip:a}),getLiveStreamingSettings:async a=>await t.get({url:"/api/edu/config/getPush",ip:a}),updataLiveStreamingSettings:async(a,i)=>await t.post({url:"/api/edu/config/setPush",data:a,ip:i}),getInputFormat:async a=>await t.get({url:"/api/edu/dict/eduInputKind",ip:a}),getNDIFormat:async a=>await t.get({url:"/api/core/input/ndiList",ip:a}),getVFormat:async a=>await t.get({url:"/api/core/input/cameraList",ip:a}),getEnterSettings:async a=>await t.get({url:"/api/edu/config/getInput",ip:a}),updataEnterSettings:async(a,i)=>await t.post({url:"/api/edu/config/setInput",data:a,ip:i}),getTrackingProtocol:async a=>await t.get({url:"/api/edu/dict/trackingProtocol",ip:a}),getNETWORKFORMAT:async a=>await t.get({url:"/api/edu/dict/trackingNetType",ip:a}),getTarckingSettings:async a=>await t.get({url:"/api/edu/config/getTracking",ip:a}),updataTarckingSettings:async(a,i)=>await t.post({url:"/api/edu/config/setTracking",data:a,ip:i}),getPic:async a=>await t.get({url:"/core/ui/pic",params:a}),getInputPic:async(a,i)=>await t.post({url:"/api/edu/mainCtrl/inputPic",data:a,ip:i}),getDirectorLayout:async a=>await t.get({url:"/api/edu/mainCtrl/layout",ip:a}),updataDirectorLayout:async(a,i)=>await t.post({url:"/api/edu/mainCtrl/ctrlLayout",data:a,ip:i}),getGuidedMode:async a=>await t.get({url:"/api/edu/mainCtrl/stateConfig",ip:a}),updataGuidedMode:async(a,i)=>await t.get({url:"/api/edu/mainCtrl/ctrlSwitchMode",params:a,ip:i}),getVideoRecordingStatus:async a=>await t.get({url:"/api/edu/mainCtrl/recordState",ip:a}),updataVideoRecordingStatus:async(a,i)=>await t.post({url:"/api/edu/mainCtrl/ctrlRecord",data:a,ip:i}),getMicrophoneSource:async a=>await t.get({url:"/api/core/input/audioInputDeviceList",ip:a}),getAudioOutputDeviceList:async a=>await t.get({url:"/api/core/input/audioOutputDeviceList",ip:a}),getAudioSetupList:async a=>await t.get({url:"/api/edu/config/getAudio",ip:a}),updataAudioSetup:async(a,i)=>await t.post({url:"/api/edu/config/setAudio",data:a,ip:i}),cameraControl:async(a,i)=>await t.get({url:"/api/edu/mainCtrl/ctrlCamera",params:a,ip:i}),getLiveBroadcastStatus:async a=>await t.get({url:"/api/edu/mainCtrl/pushState",ip:a}),updataLiveBroadcastStatus:async(a,i)=>await t.post({url:"/api/edu/mainCtrl/ctrlPush",data:a,ip:i}),getAudioList:async a=>await t.get({url:"/api/edu/audio/audioDb",ip:a}),getLinkList:async()=>await t.get({url:"/meeting/deviceLink/linkList"})},H={class:"popover-content"},Q={class:"enter"},X={key:0,class:"video",style:{"margin-right":"10px"}},Y=["src"],Z={key:1,class:"container"},aa={class:"top-section"},ta={class:"cylinder"},ia={class:"scale"},ea={key:0,class:"label"},sa={class:"bottom-section"},D=U(j({__name:"deviceInfomationDialog",props:{visible:{type:Boolean,default:!1},position:{type:Object,default:()=>({x:0,y:0})},item:{type:Object,default:()=>({})}},emits:["update:visible","confirm","cancel"],setup(a,{emit:i}){const p=a,A=i,P=c(""),f=c([]),k=c(null),b={camera:{top:-100,left:10},speaker:{top:100,left:10},mic:{top:-400,left:0}},_=h(()=>{if(!k.value)return{};const{x:e,y:s}=p.position;return{top:`${s+b[p.item.type].top}px`,left:`${e+b[p.item.type].left}px`,position:"fixed"}}),F=()=>{A("cancel")},v=c(-30),x=h(()=>v.value>=0?320:v.value<=-60?0:(60+v.value)/60*320),M=h(()=>{const e=[];for(let s=0;s<=60;s++)e.push({value:-s,position:s/60*320});return e}),l=c("video"),C=c("");c([]),q(()=>{f.value.forEach(e=>{e.timerId&&clearInterval(e.timerId)}),f.value=[],P.value="\u6240\u6709\u8F6E\u8BE2\u5DF2\u505C\u6B62",p.item&&p.visible&&R(S.value,p.item)});const S=c([]),V=e=>{const s=JSON.parse(e.message);S.value=s.linkList,p.visible&&R(S.value,p.item)},R=(e,s)=>{const u=e.find(n=>n.name==s.name);u.hadAudio&&u.hadVideo?(l.value="all",v.value=u.audioDb):!u.hadAudio&&u.hadVideo?(l.value="video",((n,r)=>{const d={timerId:null,interval:n,requestFn:r,isRequesting:!1};d.timerId=window.setInterval(async()=>{if(!d.isRequesting){d.isRequesting=!0;try{await r()}catch{}finally{d.isRequesting=!1}}},n),f.value.push(d)})(100,()=>(async n=>{const r={height:360,name:n,width:540},d=await T.getPic(r);C.value=d.img})(u.name))):(l.value="audio",v.value=u.audioDb)};return B(()=>{W.on("LinkDiagramMessage",V),setTimeout(()=>{v.value=-100},3e3)}),(e,s)=>{const u=E;return y(),g("div",null,[a.visible?(y(),g("div",{key:0,ref_key:"popover",ref:k,style:L(_.value),class:"popover"},[o("div",H,[o("div",{class:"img",onClick:F},[w(u,null,{default:I(()=>[w(O(G))]),_:1})]),o("div",Q,[l.value==="video"||l.value==="all"?(y(),g("div",X,[o("img",{src:C.value},null,8,Y)])):m("",!0),l.value==="audio"||l.value==="all"?(y(),g("div",Z,[o("div",aa,[o("div",ta,[o("div",{class:"fill",style:L({height:x.value+"px"})},null,4)]),o("div",ia,[(y(!0),g(N,null,z(M.value,(n,r)=>(y(),g("div",{key:r,class:J(["tick",{long:r%5==0}]),style:L({top:n.position+"px"})},[r%5==0?(y(),g("span",ea,K(n.value),1)):m("",!0)],6))),128))])]),o("div",sa,[w(u,{size:30},{default:I(()=>[w(O($))]),_:1})])])):m("",!0)])])],4)):m("",!0)])}}}),[["__scopeId","data-v-e6b1c8fc"]]),ua=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{T as A,D,ua as d};
