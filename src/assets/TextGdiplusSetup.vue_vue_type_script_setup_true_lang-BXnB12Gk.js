import{d as P,q as Q,p as W,r as g,a4 as X,b as Y,w as A,aH as h,c as L,o as i,F as N,j as l,a6 as Z,a as o,s as u,C as r,v as s,a9 as $,D as ee,G as le,S as ae,aa as oe,aK as te,U as ue,i as ne,x as de,t as ie,V as re,aq as pe,ac as me,f as b,aI as se,a7 as _e,a8 as fe,E as ce,az as ge,aJ as U}from"./index-DzCoMBOl.js";import{_ as Ve}from"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-Gdsu9Jdn.js";const be=P({name:"StreamingMediaSetup",__name:"TextGdiplusSetup",props:{config:{type:Object,default:()=>{}}},setup(O,{expose:R}){const p=O,{t:q}=Q();W();const e=g({font:{face:"",flags:"",size:"",style:""},read_from_time:"",text:"",antialiasing:!1,transform:0,vertical:!1,color:"",opacity:25,gradient:!1,gradient_color:"",gradient_opacity:25,gradient_dir:90,bk_color:"",bk_opacity:20,align:"",valign:"",outline:!1,outline_size:1,outline_color:"",outline_opacity:20,chatlog:!1,chatlog_lines:6,extents:!1,extents_cx:100,extents_cy:100,extents_wrap:!1,file:"",read_from_file:!1}),F=g([6,7,8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72]),J=X({buffering_mb:[{validator:(V,a,n)=>{Number.isInteger(a)?n():n(new Error("\u8BF7\u8F93\u6570\u5B57"))},trigger:"change"}],reconnect_delay_sec:[{validator:(V,a,n)=>{Number.isInteger(a)?n():n(new Error("\u8BF7\u8F93\u6570\u5B57"))},trigger:"change"}]}),k=g();R({getData:async()=>{if(k)return await k.value.validate()?{...p.config,inputSetting:{...e.value,color:e.value.color?U(e.value.color,S.value):"",gradient_color:e.value.color?U(e.value.gradient_color,C.value):"",bk_color:e.value.color?U(e.value.bk_color,E.value):"",outline_color:e.value.color?U(e.value.outline_color,D.value):""}}:void 0}});const w=g(),j=()=>{w.value.open({name:"\u5168\u5C40\u6587\u4EF6"})},G=V=>{e.value.file=V.path};Y(()=>{});const S=g(1),C=g(1),D=g(1),E=g(1);return A(()=>{if(p.config&&p.config.inputSetting){e.value=JSON.parse(JSON.stringify(p.config.inputSetting));const V=p.config.inputSetting.color?h(p.config.inputSetting.color):"";S.value=V.alpha,e.value.color=V.color;const a=p.config.inputSetting.gradient_color?h(p.config.inputSetting.gradient_color):"";C.value=a.alpha,e.value.gradient_color=a.color;const n=p.config.inputSetting.bk_color?h(p.config.inputSetting.bk_color):"";E.value=n.alpha,e.value.bk_color=n.color;const f=p.config.inputSetting.outline_color?h(p.config.inputSetting.outline_color):"";D.value=f.alpha,e.value.outline_color=f.color,e.value.font||(e.value.font={})}}),(V,a)=>{const n=le,f=ee,d=$,z=oe,T=re,B=ue,H=ae,c=pe,K=me,v=se,x=ce,m=fe,_=ge,y=_e,M=Z;return i(),L(N,null,[l(M,{ref_key:"formRef",ref:k,model:o(e),rules:o(J),"label-width":"140px"},{default:u(()=>[l(d,{label:"\u5B57\u4F53\u7C7B\u578B",prop:"transform"},{default:u(()=>[l(f,{modelValue:o(e).font.face,"onUpdate:modelValue":a[0]||(a[0]=t=>o(e).font.face=t),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[l(n,{label:"\u4EFF\u5B8B",value:"\u4EFF\u5B8B"}),l(n,{label:"\u5B8B\u4F53",value:"\u5B8B\u4F53"}),l(n,{label:"\u5FAE\u8F6F\u96C5\u9ED1",value:"\u5FAE\u8F6F\u96C5\u9ED1"}),l(n,{label:"\u5FAE\u8F6F\u96C5\u9ED1 Light",value:"\u5FAE\u8F6F\u96C5\u9ED1 Light"}),l(n,{label:"\u65B0\u5B8B\u4F53",value:"\u65B0\u5B8B\u4F53"}),l(n,{label:"\u6977\u4F53",value:"\u6977\u4F53"}),l(n,{label:"\u7B49\u7EBF",value:"\u7B49\u7EBF"}),l(n,{label:"\u7B49\u7EBF Light",value:"\u7B49\u7EBF Light"}),l(n,{label:"\u9ED1\u4F53",value:"\u9ED1\u4F53"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u5B57\u4F53\u6837\u5F0F",prop:"transform"},{default:u(()=>[l(f,{modelValue:o(e).font.style,"onUpdate:modelValue":a[1]||(a[1]=t=>o(e).font.style=t),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[l(n,{label:"\u5E38\u89C4",value:"Regular"}),l(n,{label:"\u7C97\u4F53",value:"Bold"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u5B57\u4F53\u5927\u5C0F",prop:"input"},{default:u(()=>[l(H,{trigger:"click",ref:"elDropdownRef",style:{width:"100%"},"max-height":"200px"},{dropdown:u(()=>[l(B,null,{default:u(()=>[(i(!0),L(N,null,ne(o(F),t=>(i(),r(T,{onClick:xe=>{return I=t,void(e.value.font.size=I);var I},style:{width:"480px","font-size":"18px",height:"40px"},key:t},{default:u(()=>[de(ie(t),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:u(()=>[l(z,{modelValue:o(e).font.size,"onUpdate:modelValue":a[2]||(a[2]=t=>o(e).font.size=t),placeholder:o(q)("login.usernamePlaceholder"),style:{width:"100%"},"suffix-icon":o(te)},null,8,["modelValue","placeholder","suffix-icon"])]),_:1},512)]),_:1}),l(d,{prop:"read_from_time",label:"\u65F6\u95F4\u6233"},{default:u(()=>[l(c,{modelValue:o(e).read_from_time,"onUpdate:modelValue":a[3]||(a[3]=t=>o(e).read_from_time=t),size:"large"},null,8,["modelValue"])]),_:1}),l(d,{prop:"is_local_file"},{default:u(()=>[l(K,{modelValue:o(e).read_from_file,"onUpdate:modelValue":a[4]||(a[4]=t=>o(e).read_from_file=t),label:"\u4ECE\u6587\u4EF6\u8BFB\u53D6",size:"large"},null,8,["modelValue"])]),_:1}),o(e).read_from_file?(i(),r(d,{key:0,label:"\u6587\u672C\u6587\u4EF6\uFF08UTF-8\uFF09",prop:"file"},{default:u(()=>[l(z,{modelValue:o(e).file,"onUpdate:modelValue":a[5]||(a[5]=t=>o(e).file=t),size:"large"},{append:u(()=>[b("div",{onClick:j,style:{padding:"0 20px"}},"\u6D4F\u89C8")]),_:1},8,["modelValue"])]),_:1})):(i(),r(d,{key:1,label:"\u6587\u672C",prop:"text"},{default:u(()=>[l(z,{modelValue:o(e).text,"onUpdate:modelValue":a[6]||(a[6]=t=>o(e).text=t),type:"textarea"},null,8,["modelValue"])]),_:1})),l(d,{prop:"antialiasing",label:"\u5F00\u542F\u6297\u952F\u9F7F"},{default:u(()=>[l(c,{modelValue:o(e).antialiasing,"onUpdate:modelValue":a[7]||(a[7]=t=>o(e).antialiasing=t),size:"large"},null,8,["modelValue"])]),_:1}),l(d,{label:"\u6587\u672C\u8F6C\u6362",prop:"transform"},{default:u(()=>[l(f,{modelValue:o(e).transform,"onUpdate:modelValue":a[8]||(a[8]=t=>o(e).transform=t),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[l(n,{label:"\u65E0",value:0}),l(n,{label:"\u5927\u5199",value:1}),l(n,{label:"\u5C0F\u5199",value:2}),l(n,{label:"\u6BCF\u8BCD\u9996\u5B57\u6BCD\u5927\u5199",value:3})]),_:1},8,["modelValue"])]),_:1}),l(d,{prop:"vertical",label:"\u7AD6\u76F4\u65B9\u5411"},{default:u(()=>[l(c,{modelValue:o(e).vertical,"onUpdate:modelValue":a[9]||(a[9]=t=>o(e).vertical=t),size:"large"},null,8,["modelValue"])]),_:1}),l(d,{label:"\u8272\u5F69",prop:"color"},{default:u(()=>[l(v,{modelValue:o(e).color,"onUpdate:modelValue":a[10]||(a[10]=t=>o(e).color=t),type:"textarea"},null,8,["modelValue"])]),_:1}),l(d,{label:"\u4E0D\u900F\u660E\u5EA6",prop:"opacity"},{default:u(()=>[l(y,{style:{width:"100%"}},{default:u(()=>[l(m,{span:16},{default:u(()=>[l(x,{modelValue:o(e).opacity,"onUpdate:modelValue":a[11]||(a[11]=t=>o(e).opacity=t),min:1,max:100},null,8,["modelValue"])]),_:1}),l(m,{span:6},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).opacity,"onUpdate:modelValue":a[12]||(a[12]=t=>o(e).opacity=t),min:0,max:100},{suffix:u(()=>a[35]||(a[35]=[b("span",null,"%",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(d,{prop:"gradient",label:"\u6E10\u53D8"},{default:u(()=>[l(c,{modelValue:o(e).gradient,"onUpdate:modelValue":a[13]||(a[13]=t=>o(e).gradient=t),size:"large"},null,8,["modelValue"])]),_:1}),o(e).gradient?(i(),r(d,{key:2,label:"\u6E10\u53D8\u989C\u8272",prop:"gradient_color"},{default:u(()=>[l(v,{modelValue:o(e).gradient_color,"onUpdate:modelValue":a[14]||(a[14]=t=>o(e).gradient_color=t)},null,8,["modelValue"])]),_:1})):s("",!0),o(e).gradient?(i(),r(d,{key:3,label:"\u6E10\u53D8\u4E0D\u900F\u660E\u5EA6",prop:"gradient_opacity"},{default:u(()=>[l(y,{style:{width:"100%"}},{default:u(()=>[l(m,{span:16},{default:u(()=>[l(x,{modelValue:o(e).gradient_opacity,"onUpdate:modelValue":a[15]||(a[15]=t=>o(e).gradient_opacity=t),min:0,max:100},null,8,["modelValue"])]),_:1}),l(m,{span:6},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).gradient_opacity,"onUpdate:modelValue":a[16]||(a[16]=t=>o(e).gradient_opacity=t),min:0,max:100},{suffix:u(()=>a[36]||(a[36]=[b("span",null,"%",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):s("",!0),o(e).gradient?(i(),r(d,{key:4,label:"\u6E10\u53D8\u65B9\u5411",prop:"gradient_dir"},{default:u(()=>[l(y,{style:{width:"100%"}},{default:u(()=>[l(m,{span:16},{default:u(()=>[l(x,{modelValue:o(e).gradient_dir,"onUpdate:modelValue":a[17]||(a[17]=t=>o(e).gradient_dir=t),min:1,max:360},null,8,["modelValue"])]),_:1}),l(m,{span:6},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).gradient_dir,"onUpdate:modelValue":a[18]||(a[18]=t=>o(e).gradient_dir=t),min:0,max:360},{suffix:u(()=>a[37]||(a[37]=[b("span",null,"\xB0",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):s("",!0),l(d,{label:"\u80CC\u666F\u989C\u8272",prop:"bk_color"},{default:u(()=>[l(v,{modelValue:o(e).bk_color,"onUpdate:modelValue":a[19]||(a[19]=t=>o(e).bk_color=t)},null,8,["modelValue"])]),_:1}),l(d,{label:"\u80CC\u666F\u4E0D\u900F\u660E\u5EA6",prop:"bk_opacity"},{default:u(()=>[l(y,{style:{width:"100%"}},{default:u(()=>[l(m,{span:16},{default:u(()=>[l(x,{modelValue:o(e).bk_opacity,"onUpdate:modelValue":a[20]||(a[20]=t=>o(e).bk_opacity=t),min:0,max:100},null,8,["modelValue"])]),_:1}),l(m,{span:6},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).bk_opacity,"onUpdate:modelValue":a[21]||(a[21]=t=>o(e).bk_opacity=t),min:0,max:100},{suffix:u(()=>a[38]||(a[38]=[b("span",null,"%",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(d,{label:"\u5BF9\u9F50",prop:"align"},{default:u(()=>[l(f,{modelValue:o(e).align,"onUpdate:modelValue":a[22]||(a[22]=t=>o(e).align=t),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[l(n,{label:"\u9760\u5DE6\u5BF9\u5176",value:"left"}),l(n,{label:"\u5C45\u4E2D",value:"center"}),l(n,{label:"\u9760\u53F3\u5BF9\u5176",value:"right"})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"\u5782\u76F4\u5BF9\u9F50",prop:"valign"},{default:u(()=>[l(f,{modelValue:o(e).valign,"onUpdate:modelValue":a[23]||(a[23]=t=>o(e).valign=t),placeholder:"\u8BF7\u9009\u62E9"},{default:u(()=>[l(n,{label:"\u9876\u90E8",value:"top"}),l(n,{label:"\u5C45\u4E2D",value:"center"}),l(n,{label:"\u5E95\u90E8",value:"bottom"})]),_:1},8,["modelValue"])]),_:1}),l(d,{prop:"outline",label:"\u8F6E\u5ED3"},{default:u(()=>[l(c,{modelValue:o(e).outline,"onUpdate:modelValue":a[24]||(a[24]=t=>o(e).outline=t),size:"large"},null,8,["modelValue"])]),_:1}),o(e).outline?(i(),r(d,{key:5,label:"\u8F6E\u5ED3\u5927\u5C0F",prop:"outline_size"},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).outline_size,"onUpdate:modelValue":a[25]||(a[25]=t=>o(e).outline_size=t),min:1,max:20},null,8,["modelValue"])]),_:1})):s("",!0),o(e).outline?(i(),r(d,{key:6,label:"\u8F6E\u5ED3\u989C\u8272",prop:"outline_color"},{default:u(()=>[l(v,{modelValue:o(e).outline_color,"onUpdate:modelValue":a[26]||(a[26]=t=>o(e).outline_color=t)},null,8,["modelValue"])]),_:1})):s("",!0),o(e).outline?(i(),r(d,{key:7,label:"\u8F6E\u5ED3\u4E0D\u900F\u660E\u5EA6",prop:"outline_opacity"},{default:u(()=>[l(y,{style:{width:"100%"}},{default:u(()=>[l(m,{span:16},{default:u(()=>[l(x,{modelValue:o(e).outline_opacity,"onUpdate:modelValue":a[27]||(a[27]=t=>o(e).outline_opacity=t),min:0,max:100},null,8,["modelValue"])]),_:1}),l(m,{span:6},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).outline_opacity,"onUpdate:modelValue":a[28]||(a[28]=t=>o(e).outline_opacity=t),min:0,max:100},{suffix:u(()=>a[39]||(a[39]=[b("span",null,"%",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):s("",!0),l(d,{prop:"chatlog",label:"\u804A\u5929\u6A21\u5F0F"},{default:u(()=>[l(c,{modelValue:o(e).chatlog,"onUpdate:modelValue":a[29]||(a[29]=t=>o(e).chatlog=t),size:"large"},null,8,["modelValue"])]),_:1}),o(e).chatlog?(i(),r(d,{key:8,label:"\u804A\u5929\u884C\u9650\u5236",prop:"chatlog_lines"},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).chatlog_lines,"onUpdate:modelValue":a[30]||(a[30]=t=>o(e).chatlog_lines=t),min:1,max:20},null,8,["modelValue"])]),_:1})):s("",!0),l(d,{prop:"extents",label:"\u4F7F\u7528\u81EA\u5B9A\u4E49\u6587\u672C\u533A"},{default:u(()=>[l(c,{modelValue:o(e).extents,"onUpdate:modelValue":a[31]||(a[31]=t=>o(e).extents=t),size:"large"},null,8,["modelValue"])]),_:1}),o(e).extents?(i(),r(d,{key:9,label:"\u5BBD\u5EA6",prop:"extents_cx"},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).extents_cx,"onUpdate:modelValue":a[32]||(a[32]=t=>o(e).extents_cx=t),min:32,max:200},null,8,["modelValue"])]),_:1})):s("",!0),o(e).extents?(i(),r(d,{key:10,label:"\u9AD8\u5EA6",prop:"extents_cy"},{default:u(()=>[l(_,{style:{"margin-left":"22px"},modelValue:o(e).extents_cy,"onUpdate:modelValue":a[33]||(a[33]=t=>o(e).extents_cy=t),min:32,max:200},null,8,["modelValue"])]),_:1})):s("",!0),o(e).extents?(i(),r(d,{key:11,prop:"extents_wrap",label:"\u81EA\u5B9A\u6362\u884C"},{default:u(()=>[l(c,{modelValue:o(e).extents_wrap,"onUpdate:modelValue":a[34]||(a[34]=t=>o(e).extents_wrap=t),size:"large"},null,8,["modelValue"])]),_:1})):s("",!0)]),_:1},8,["model","rules"]),l(Ve,{ref_key:"globalFilesDIalogRef",ref:w,onSuccess:G},null,512)],64)}}});export{be as _};
