import{_ as u}from"./ContentWrap.vue_vue_type_script_setup_true_lang-BtJ7lbtf.js";import{au as y,d as f,r as c,b as w,C as b,o as g,s as L,f as l}from"./index-Cv_H95TD.js";import{i as k}from"./echarts-CeCET7xf.js";const v=async()=>await y.get({url:"/core/system/systemInfoList"}),P={style:{width:"50%"}},T=f({name:"VideoStreaming",__name:"index",setup(A){const m=c([]),x=c();return w(()=>{(async()=>{m.value=await v();const r=[],i=[],t=[],h=[],p=[];m.value.forEach(e=>{const s=e.createTime.slice(-8);r.push(s),i.push(e.cpu),t.push(e.fps),h.push(e.memory),p.push(e.renderTime)});const d={color:["#58bc58","#d14a61","#236ed6","#daab0f"],grid:{right:"5%",left:"5%"},legend:{data:["CPU","FPS","\u5185\u5B58","\u6E32\u67D3\u65F6\u95F4"],right:50},xAxis:[{type:"category",axisTick:{show:!1},axisLabel:{formatter:function(e,s){return s%3==0?e:""},padding:[0,0,0,40]},data:r}],tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(e){let s=e[0].axisValue+"<br/>";return e.forEach(function(o){let a="",n=o.value;switch(o.seriesName){case"CPU":a="%";break;case"FPS":a="fps";break;case"\u5185\u5B58":a="MB",n>=1024&&(n=(n/1024).toFixed(2),a="GB");break;case"\u6E32\u67D3\u65F6\u95F4":a="ms"}s+=`${o.marker} ${o.seriesName}: ${n}${a}<br/>`}),s}},yAxis:[{type:"value",min:0,max:100,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},{type:"value",min:0,max:60,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},{type:"value",min:0,max:8192,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},{type:"value",min:0,max:500,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}}],series:[{name:"CPU",type:"line",smooth:!0,symbol:"none",yAxisIndex:0,data:i},{name:"FPS",type:"line",smooth:!0,symbol:"none",yAxisIndex:1,data:t},{name:"\u5185\u5B58",type:"line",smooth:!0,symbol:"none",yAxisIndex:2,data:h},{name:"\u6E32\u67D3\u65F6\u95F4",type:"line",smooth:!0,symbol:"none",yAxisIndex:3,data:p}]};k(x.value).setOption(d)})()}),(r,i)=>{const t=u;return g(),b(t,null,{default:L(()=>[l("div",P,[i[0]||(i[0]=l("h3",{style:{"padding-left":"20px"}},"\u8FD0\u884C\u72B6\u6001",-1)),l("div",{ref_key:"systemInfoRef",ref:x,style:{width:"100%",height:"400px","text-align":"center",margin:"auto"}},null,512)])]),_:1})}}});export{T as default};
