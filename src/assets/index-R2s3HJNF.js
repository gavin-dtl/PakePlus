import{d as G,p as J,q as O,r as u,b as W,e as X,c as k,o as d,f as l,j as a,s as o,F as R,i as D,a as m,n as K,v as M,t as _,C as q,ax as Y,Q as N,ba as Z,aA as $,z as ee,H as ae,aN as te,x,U as ie,V as oe,S as ne,aS as re,aR as le,_ as se}from"./index-DwcZmOlQ.js";import{_ as pe}from"./index-DQsPolDK.js";import{S as b}from"./index-4uYp2Pll.js";import me from"./index-BjCEjmru.js";import{c as P}from"./index-CGfLz2yR.js";import{i as ce}from"./index-D2vbvqx0.js";import{_ as ue}from"./inputSoureForm.vue_vue_type_script_setup_true_lang-CgHAHiOG.js";import"./mitt-CI7Qv1RY.js";import"./vuedraggable.umd-Cr7SDDio.js";import"./NDIsetup.vue_vue_type_script_setup_true_lang-FJJL4fBB.js";import"./streamingMediaSetup-BwAGOCOI.js";import"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-BFWreqdL.js";import"./Dialog.vue_vue_type_style_index_0_lang-BhpXB9km.js";import"./globalFiles-DunQ7Mc5.js";import"./UploadFile-DicpLKKc.js";import"./meetingFiles-if-kne1N.js";import"./index-BDW1A3Y4.js";import"./browserSourceSetup.vue_vue_type_script_setup_true_lang-BGPupVkW.js";import"./dshowInputSetup.vue_vue_type_script_setup_true_lang-uobgkBJa.js";import"./monitorCaptureSetup.vue_vue_type_script_setup_true_lang-Bp5dYWsb.js";import"./windowCaptureSetup.vue_vue_type_script_setup_true_lang-D049AQlT.js";import"./colorSetup.vue_vue_type_script_setup_true_lang-B2JAk0fk.js";import"./TextGdiplusSetup.vue_vue_type_script_setup_true_lang-TlgBCWqk.js";import"./ImageSourceSetup.vue_vue_type_script_setup_true_lang-D1pPgknS.js";import"./VlcSourceSetup-BebZhUs7.js";import"./pictureSlidesSetup-D0_7vjK2.js";import"./wasapiInputCaptureSetup.vue_vue_type_script_setup_true_lang-Cv5muqdo.js";import"./wasapiOutputCaptureSetup.vue_vue_type_script_setup_true_lang-Cwr9RIAh.js";import"./noiseSuppressionFilters.vue_vue_type_script_setup_true_lang-IEWEX7VM.js";import"./BasicEqFilter.vue_vue_type_script_setup_true_lang-Dn0izXzI.js";import"./CompressorFilter.vue_vue_type_script_setup_true_lang-an7c2vI-.js";import"./NDIAudiofilter.vue_vue_type_script_setup_true_lang-B6Uk1Xyz.js";import"./VstFilter.vue_vue_type_script_setup_true_lang-ufIQuZ3Q.js";import"./JuceEqFilter.vue_vue_type_script_setup_true_lang-2yNlydWj.js";import"./InvertPolarityFilter.vue_vue_type_script_setup_true_lang-DZFw0Tiq.js";import"./AsyncDelayFilter.vue_vue_type_script_setup_true_lang-BKhw6BMT.js";import"./AudioMonitor.vue_vue_type_script_setup_true_lang-eR5X1dvT.js";import"./AutosubFilter.vue_vue_type_script_setup_true_lang-BKPiWAY-.js";import"./ChromaKeyFilterV2.vue_vue_type_script_setup_true_lang-CahnPur3.js";import"./ClutFilter.vue_vue_type_script_setup_true_lang-BuN6wjRr.js";import"./ColorFilterV2.vue_vue_type_script_setup_true_lang-250Xnrl-.js";import"./ColorKeyFilterV2.vue_vue_type_script_setup_true_lang-C6kM6Frx.js";import"./CropFilter.vue_vue_type_script_setup_true_lang-CgzWHjzs.js";import"./ExpanderFilter.vue_vue_type_script_setup_true_lang-BrPZoamp.js";import"./GainFilter.vue_vue_type_script_setup_true_lang-Clc0GmGm.js";import"./GpuDelay.vue_vue_type_script_setup_true_lang-EwpIzf_b.js";import"./HdrTonemapFilter.vue_vue_type_script_setup_true_lang-KqNZAWBB.js";import"./LimiterFilter.vue_vue_type_script_setup_true_lang-Dwj9VQ-S.js";import"./LumaKeyFilterV2.vue_vue_type_script_setup_true_lang-CfwQNPa0.js";import"./MaskFilterV2.vue_vue_type_script_setup_true_lang-RLSmegxN.js";import"./MicCtrlFilterV2.vue_vue_type_script_setup_true_lang-q3puf_bh.js";import"./NDIFilter.vue_vue_type_script_setup_true_lang-B9iYYXIF.js";import"./NoiseFateFilter.vue_vue_type_script_setup_true_lang-DUvG3zbd.js";import"./ScaleFilter.vue_vue_type_script_setup_true_lang-3FMGsVnx.js";import"./ScrollFilter.vue_vue_type_script_setup_true_lang-BIupvwHU.js";import"./SharpnessFilterV2.vue_vue_type_script_setup_true_lang-Cg6JJjRu.js";import"./SourceRecordFilter.vue_vue_type_script_setup_true_lang-D-i1Vw9t.js";import"./UpwardCompressorFilter.vue_vue_type_script_setup_true_lang-C9yUzyYP.js";import"./AudioDelayFilter.vue_vue_type_script_setup_true_lang-BEf0oGvg.js";const de={class:"main"},fe={class:"scene-list"},ye=["onClick"],ve={style:{display:"flex","align-items":"center","margin-left":"20px"}},we={style:{display:"flex","justify-content":"revert"}},he={class:"scene-body"},ge={style:{height:"75px",width:"128px",margin:"auto"}},ke=se(G({name:"InputSourceManagement",__name:"index",setup(xe){const s=J(),{t:v}=O();u();const V=u(),w=u([]),C=async()=>{var t,f;const i=await b.getScencList();i.sceneList.forEach(c=>{c.type=c.sceneName==i.currentProgramSceneName}),w.value=i.sceneList,w.value.length>0&&(h((t=w.value[0])==null?void 0:t.sceneName),r.value=(f=w.value[0])==null?void 0:f.sceneName)},r=u(""),z=async i=>{await h(r.value);const t=S.value.find(f=>f.name==i);I(t)},S=u([]),h=async i=>{S.value=await b.getSceneItem({sceneName:i})},I=i=>{V.value.open(i.name||i.sceneName)},A=async()=>{const i=await s.validatePrompt("\u8BF7\u8F93\u5165\u573A\u666F\u540D\u79F0",v("\u65B0\u589E\u573A\u666F"),{inputValue:"",validator:t=>!!t||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await P.createScene({name:i.value}),C(),s.success("\u65B0\u589E\u6210\u529F")},j=u(),B=i=>{j.value.open(i.name,r.value,i.kind)},F=u([]);return W(()=>{C(),(async()=>F.value=await ce.getInputKindList())()}),X(()=>{}),(i,t)=>{const f=ee,c=ae,E=oe,H=ie,Q=ne,y=re,T=pe,U=le;return d(),k("div",de,[l("div",fe,[t[0]||(t[0]=l("p",{class:"title"},"\u89C6\u9891\u6E90\u8F93\u51FA\u5217\u8868",-1)),a(f,{height:"calc(100vh - 190px)"},{default:o(()=>[(d(!0),k(R,null,D(m(w),e=>(d(),k("div",{style:K({backgroundColor:e.sceneName==m(r)?"#409efe":"#f1f1f1",color:e.sceneName==m(r)?"#fcfcfc":"#2e3235"}),key:e,class:"scrollbar-item",onClick:p=>{return n=e,r.value=n.sceneName,void h(r.value);var n}},[e.type?(d(),k("p",{key:0,class:"icon",style:K({backgroundColor:e.type?"red":""})},null,4)):M("",!0),l("p",ve,_(e.sceneName),1),l("p",we,[e.type?M("",!0):(d(),q(m(Y),{key:0,onClick:N(p=>(async n=>{try{await s.delConfirm("\u786E\u8BA4\u5220\u9664\u8BE5\u573A\u666F\u5417\uFF1F"),await b.deleteScene({name:n.sceneName}),C()}catch{}})(e),["stop"]),style:{height:"16px",width:"16px",cursor:"pointer"}},null,8,["onClick"])),a(m(Z),{onClick:p=>(async n=>{const g=await s.validatePrompt("\u8BF7\u8F93\u5165\u65B0\u7684\u573A\u666F\u540D\u79F0",v("\u91CD\u547D\u540D"),{inputValue:n.sceneName,validator:L=>!!L||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await P.renameScene({oldName:n.sceneName,newName:g.value}),C(),s.success("\u91CD\u547D\u540D\u6210\u529F")})(e),style:{height:"16px",width:"16px",cursor:"pointer","margin-left":"5px"}},null,8,["onClick"]),a(m($),{onClick:p=>I(e),style:{height:"16px",width:"16px",cursor:"pointer","margin-left":"5px"}},null,8,["onClick"])])],12,ye))),128))]),_:1}),l("div",{style:{"background-color":"white"}},[l("p",{class:"scene-list-button",onClick:A},"\u65B0\u589E\u89C6\u9891\u8F93\u51FA")])]),l("div",he,[a(Q,{placement:"top",trigger:"click","max-height":"300px",onCommand:B},{dropdown:o(()=>[a(H,null,{default:o(()=>[(d(!0),k(R,null,D(m(F),e=>(d(),q(E,{command:e,key:e.kind,style:{width:"180px"}},{default:o(()=>[x(_(e.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:o(()=>[a(c,{type:"primary",icon:m(te)},{default:o(()=>t[1]||(t[1]=[x("\u65B0\u589E")])),_:1},8,["icon"])]),_:1}),a(U,{data:m(S),style:{width:"100%",padding:"0 20px","margin-top":"15px"},height:"100%"},{default:o(()=>[a(y,{prop:"name",label:"\u540D\u79F0",width:"180px"}),a(y,{prop:"showName",label:"\u663E\u793A\u540D\u79F0"}),a(y,{prop:"ctrlType",label:"\u7C7B\u578B",width:"100"},{default:o(e=>{var p;return[l("span",null,_((p=e.row.inputKindDetail)==null?void 0:p.name),1)]}),_:1}),a(y,{prop:"name",label:"\u6EE4\u955C",align:"center"},{default:o(e=>[l("span",null,_(e.row.filterList.join(",")),1)]),_:1}),a(y,{prop:"address",label:"\u9884\u89C8",align:"center"},{default:o(e=>[l("div",ge,[a(T,{params:{height:72,width:128,name:e.row.name}},null,8,["params"])])]),_:1}),a(y,{fixed:"right",label:"\u64CD\u4F5C",width:"180"},{default:o(e=>[a(c,{link:"",type:"primary",onClick:N(p=>I(e.row),["prevent"])},{default:o(()=>t[2]||(t[2]=[x(" \u8BBE\u7F6E ")])),_:2},1032,["onClick"]),a(c,{link:"",type:"primary",onClick:N(p=>(async n=>{const g=await s.validatePrompt("\u8BF7\u8F93\u5165\u65B0\u7684\u8F93\u5165\u6E90\u540D\u79F0",v("\u91CD\u547D\u540D"),{inputValue:n.name,validator:L=>!!L||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await P.renameInput({oldInputName:n.name,newInputName:g.value}),h(r.value),s.success("\u91CD\u547D\u540D\u6210\u529F")})(e.row),["prevent"])},{default:o(()=>t[3]||(t[3]=[x(" \u91CD\u547D\u540D ")])),_:2},1032,["onClick"]),a(c,{link:"",type:"danger",onClick:N(p=>(async n=>{try{await s.delConfirm(v("common.delMessage")),await b.deleteSceneItem({sceneName:r.value,itemId:n.data.sceneItemId}),h(r.value),s.success(v("common.delSuccess"))}catch{}})(e.row),["prevent"])},{default:o(()=>t[4]||(t[4]=[x(" \u5220\u9664 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(me,{ref_key:"ConfigurationFormRef",ref:V},null,512),a(ue,{onSuccess:z,ref_key:"InputSourceFormRef",ref:j},null,512)])])}}}),[["__scopeId","data-v-0ecf568e"]]);export{ke as default};
