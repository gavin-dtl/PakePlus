import{at as t,d as q,r as c,a2 as h,az as j,b as z,c as g,o as y,p as m,n as k,f as o,m as w,H as B,w as I,a as O,bS as E,F as G,y as N,v as K,t as $,bT as H,_ as J}from"./index-h2IMwmcw.js";import{e as W}from"./mitt-CI7Qv1RY.js";const T={getGuideStrategyConfiguration:async a=>await t.get({url:"/api/edu/config/getSwitch",ip:a}),updaatGuideStrategyConfiguration:async(a,e)=>await t.post({url:"/api/edu/config/setSwitch",data:a,ip:e}),getPictureRecording:async(a,e)=>await t.post({url:"/api/record/video/list",data:a,ip:e}),getVideoDetailOptions:async(a,e)=>await t.get({url:"/api/record/video/metadata",params:a,ip:e}),deleteVideo:async(a,e)=>await t.post({url:"/api/record/video/remove",data:a,ip:e}),getIpAddress:async a=>await t.get({url:"/api/core/system/net",ip:a}),getSystemConfiguration:async a=>await t.get({url:"/api/edu/config/getSystem",ip:a}),updataSystemConfiguration:async(a,e)=>await t.post({url:"/api/edu/config/setSystem",data:a,ip:e}),getFormatOptions:async a=>await t.get({url:"/api/edu/dict/videoFormat",ip:a}),getRecordingResolutionOptions:async a=>await t.get({url:"/api/edu/dict/videoSize",ip:a}),getRecordingBitrateOptionsOptions:async a=>await t.get({url:"/api/edu/dict/videoRate",ip:a}),getRecordingFrameRateOptions:async a=>await t.get({url:"/api/edu/dict/videoFrame",ip:a}),getTapeSet:async a=>await t.get({url:"/api/edu/config/getRecord",ip:a}),updataTapeSet:async(a,e)=>await t.post({url:"/api/edu/config/setRecord",data:a,ip:e}),getLiveStreamingFormat:async a=>await t.get({url:"/api/edu/dict/eduPushType",ip:a}),getLiveStreamingSettings:async a=>await t.get({url:"/api/edu/config/getPush",ip:a}),updataLiveStreamingSettings:async(a,e)=>await t.post({url:"/api/edu/config/setPush",data:a,ip:e}),getInputFormat:async a=>await t.get({url:"/api/edu/dict/eduInputKind",ip:a}),getNDIFormat:async a=>await t.get({url:"/api/core/input/ndiList",ip:a}),getVFormat:async a=>await t.get({url:"/api/core/input/cameraList",ip:a}),getEnterSettings:async a=>await t.get({url:"/api/edu/config/getInput",ip:a}),updataEnterSettings:async(a,e)=>await t.post({url:"/api/edu/config/setInput",data:a,ip:e}),getTrackingProtocol:async a=>await t.get({url:"/api/edu/dict/trackingProtocol",ip:a}),getNETWORKFORMAT:async a=>await t.get({url:"/api/edu/dict/trackingNetType",ip:a}),getTarckingSettings:async a=>await t.get({url:"/api/edu/config/getTracking",ip:a}),updataTarckingSettings:async(a,e)=>await t.post({url:"/api/edu/config/setTracking",data:a,ip:e}),getPic:async a=>await t.get({url:"/core/ui/pic",params:a}),getInputPic:async(a,e)=>await t.post({url:"/api/edu/mainCtrl/inputPic",data:a,ip:e}),getDirectorLayout:async a=>await t.get({url:"/api/edu/mainCtrl/layout",ip:a}),updataDirectorLayout:async(a,e)=>await t.post({url:"/api/edu/mainCtrl/ctrlLayout",data:a,ip:e}),getGuidedMode:async a=>await t.get({url:"/api/edu/mainCtrl/stateConfig",ip:a}),updataGuidedMode:async(a,e)=>await t.get({url:"/api/edu/mainCtrl/ctrlSwitchMode",params:a,ip:e}),getVideoRecordingStatus:async a=>await t.get({url:"/api/edu/mainCtrl/recordState",ip:a}),updataVideoRecordingStatus:async(a,e)=>await t.post({url:"/api/edu/mainCtrl/ctrlRecord",data:a,ip:e}),getMicrophoneSource:async a=>await t.get({url:"/api/core/input/audioInputDeviceList",ip:a}),getAudioOutputDeviceList:async a=>await t.get({url:"/api/core/input/audioOutputDeviceList",ip:a}),getAudioSetupList:async a=>await t.get({url:"/api/edu/config/getAudio",ip:a}),updataAudioSetup:async(a,e)=>await t.post({url:"/api/edu/config/setAudio",data:a,ip:e}),cameraControl:async(a,e)=>await t.get({url:"/api/edu/mainCtrl/ctrlCamera",params:a,ip:e}),getLiveBroadcastStatus:async a=>await t.get({url:"/api/edu/mainCtrl/pushState",ip:a}),updataLiveBroadcastStatus:async(a,e)=>await t.post({url:"/api/edu/mainCtrl/ctrlPush",data:a,ip:e}),getAudioList:async a=>await t.get({url:"/api/edu/audio/audioDb",ip:a}),getLinkList:async()=>await t.get({url:"/meeting/deviceLink/linkList"})},Q={class:"popover-content"},U={class:"enter"},X={key:0,class:"video",style:{"margin-right":"10px"}},Y=["src"],Z={key:1,class:"container"},aa={class:"top-section"},ta={class:"cylinder"},ea={class:"scale"},ia={key:0,class:"label"},sa={class:"bottom-section"},D=J(q({__name:"deviceInfomationDialog",props:{visible:{type:Boolean,default:!1},position:{type:Object,default:()=>({x:0,y:0})},item:{type:Object,default:()=>({})}},emits:["update:visible","confirm","cancel"],setup(a,{emit:e}){const p=a,P=e,_=c(""),f=c([]),L=c(null),b={camera:{top:-100,left:10},speaker:{top:100,left:10},mic:{top:-400,left:0}},A=h(()=>{if(!L.value)return{};const{x:i,y:s}=p.position;return{top:`${s+b[p.item.type].top}px`,left:`${i+b[p.item.type].left}px`,position:"fixed"}}),F=()=>{P("cancel")},v=c(-30),x=h(()=>v.value>=0?320:v.value<=-60?0:(60+v.value)/60*320),V=h(()=>{const i=[];for(let s=0;s<=60;s++)i.push({value:-s,position:s/60*320});return i}),l=c("video"),C=c("");c([]),j(()=>{f.value.forEach(i=>{i.timerId&&clearInterval(i.timerId)}),f.value=[],_.value="\u6240\u6709\u8F6E\u8BE2\u5DF2\u505C\u6B62",p.item&&p.visible&&R(S.value,p.item)});const S=c([]),M=i=>{const s=JSON.parse(i.message);S.value=s.linkList,p.visible&&R(S.value,p.item)},R=(i,s)=>{const u=i.find(n=>n.name==s.name);u.hadAudio&&u.hadVideo?(l.value="all",v.value=u.audioDb):!u.hadAudio&&u.hadVideo?(l.value="video",((n,r)=>{const d={timerId:null,interval:n,requestFn:r,isRequesting:!1};d.timerId=window.setInterval(async()=>{if(!d.isRequesting){d.isRequesting=!0;try{await r()}catch{}finally{d.isRequesting=!1}}},n),f.value.push(d)})(100,()=>(async n=>{const r={height:360,name:n,width:540},d=await T.getPic(r);C.value=d.img})(u.name))):(l.value="audio",v.value=u.audioDb)};return z(()=>{W.on("LinkDiagramMessage",M),setTimeout(()=>{v.value=-100},3e3)}),(i,s)=>{const u=B;return y(),g("div",null,[a.visible?(y(),g("div",{key:0,ref_key:"popover",ref:L,style:k(A.value),class:"popover"},[o("div",Q,[o("div",{class:"img",onClick:F},[w(u,null,{default:I(()=>[w(O(E))]),_:1})]),o("div",U,[l.value==="video"||l.value==="all"?(y(),g("div",X,[o("img",{src:C.value},null,8,Y)])):m("",!0),l.value==="audio"||l.value==="all"?(y(),g("div",Z,[o("div",aa,[o("div",ta,[o("div",{class:"fill",style:k({height:x.value+"px"})},null,4)]),o("div",ea,[(y(!0),g(G,null,N(V.value,(n,r)=>(y(),g("div",{key:r,class:K(["tick",{long:r%5==0}]),style:k({top:n.position+"px"})},[r%5==0?(y(),g("span",ia,$(n.value),1)):m("",!0)],6))),128))])]),o("div",sa,[w(u,{size:30},{default:I(()=>[w(O(H))]),_:1})])])):m("",!0)])])],4)):m("",!0)])}}}),[["__scopeId","data-v-e6b1c8fc"]]),ua=Object.freeze(Object.defineProperty({__proto__:null,default:D},Symbol.toStringTag,{value:"Module"}));export{T as A,D,ua as d};
