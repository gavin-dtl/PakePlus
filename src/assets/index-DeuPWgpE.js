import{_ as v}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CCSEnNgB.js";import{d as b,p as x,q as C,r as u,b as A,c as S,o as j,j as a,s as l,H as D,x as s,aR as M,a as R,aS as q,f,t as F,Q as g,F as H}from"./index-DzCoMBOl.js";import{A as y}from"./index-CPmaQr0d.js";import I from"./applicationForm-DVEZx50V.js";import"./Dialog.vue_vue_type_style_index_0_lang-v5RKlSVj.js";const L=["src"],N=b({name:"ApplicationManagement",__name:"index",setup(Q){const c=x(),{t:d}=C(),m=u([]),o=async()=>{m.value=await y.getAppList()},i=u(),_=()=>{i.value.open("create")};return A(async()=>{o()}),(U,e)=>{const p=D,n=q,w=M,h=v;return j(),S(H,null,[a(h,null,{default:l(()=>[a(p,{type:"primary",onClick:_},{default:l(()=>e[0]||(e[0]=[s("\u65B0\u589E")])),_:1}),a(w,{data:R(m),style:{width:"100%"}},{default:l(()=>[a(n,{prop:"name",label:"\u540D\u79F0",align:"center"}),a(n,{prop:"type",label:"\u7C7B\u578B",align:"center"},{default:l(t=>[f("span",null,F(t.row.type==1?"\u4F1A\u8BAE\u5E73\u53F0":"\u5E94\u7528"),1)]),_:1}),a(n,{prop:"icon",label:"\u56FE\u6807",align:"center"},{default:l(t=>[f("img",{src:t.row.icon,class:"uploaded-image",alt:"Uploaded Image",style:{height:"40px",width:"40px"}},null,8,L)]),_:1}),a(n,{prop:"pidName",label:"\u8FDB\u7A0B\u540D\u79F0",align:"center"}),e[3]||(e[3]=s(" > ")),a(n,{fixed:"right",label:"\u64CD\u4F5C",width:"150",align:"center"},{default:l(t=>[a(p,{link:"",type:"primary",onClick:g(k=>{return r=t.row,void i.value.open("edit",r);var r},["prevent"])},{default:l(()=>e[1]||(e[1]=[s(" \u7F16\u8F91 ")])),_:2},1032,["onClick"]),a(p,{link:"",type:"danger",onClick:g(k=>(async r=>{try{await c.delConfirm(d("common.delDataMessage")),await y.removeApp({id:r.id}),c.success(d("common.delSuccess")),o()}catch{}})(t.row),["prevent"])},{default:l(()=>e[2]||(e[2]=[s(" \u5220\u9664 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),a(I,{ref_key:"formRef",ref:i,onSuccess:o},null,512)],64)}}});export{N as default};
