import{d as W,k as X,l as Y,r as n,b as Z,e as $,c as d,o as m,m as o,f as p,w as i,F as N,y as I,a as r,z as A,M as ee,ao as ae,V as te,p as L,n as K,t as h,E as oe,C as ie,aN as le,q as _,R as re,S as ne,Q as me,aS as se,O as V,aR as pe,_ as ce}from"./index-h2IMwmcw.js";import{A as x}from"./index-DZAPafs9.js";import ue from"./index-Ctpu4lD7.js";import{c as O}from"./index-khA-Kq7n.js";import{S as de}from"./index-DuOSvttm.js";import{_ as fe}from"./inputSoureForm.vue_vue_type_script_setup_true_lang-DPeKxNuR.js";import"./index-FKu4-vz2.js";import"./mitt-CI7Qv1RY.js";import"./vuedraggable.umd-Bvxg4Z3f.js";import"./NDIsetup.vue_vue_type_script_setup_true_lang-COuXPygU.js";import"./streamingMediaSetup-BXQBViqL.js";import"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-C-g0ePTN.js";import"./Dialog.vue_vue_type_style_index_0_lang-Gezqvh3u.js";import"./globalFiles-CWC6Ssk7.js";import"./UploadFile-CVp29_BB.js";import"./meetingFiles-DZ9XlxLL.js";import"./index-B9iskDNg.js";import"./browserSourceSetup.vue_vue_type_script_setup_true_lang-BtDYAiUb.js";import"./dshowInputSetup.vue_vue_type_script_setup_true_lang-kshCCHqe.js";import"./monitorCaptureSetup.vue_vue_type_script_setup_true_lang-DI1XUFQF.js";import"./windowCaptureSetup.vue_vue_type_script_setup_true_lang-Cla8lV9t.js";import"./colorSetup.vue_vue_type_script_setup_true_lang-BifbU0XH.js";import"./TextGdiplusSetup.vue_vue_type_script_setup_true_lang-CfwtX9og.js";import"./ImageSourceSetup.vue_vue_type_script_setup_true_lang-Dj9iDezs.js";import"./VlcSourceSetup-BnQ3aCY0.js";import"./pictureSlidesSetup-Dujr8GNY.js";import"./wasapiInputCaptureSetup.vue_vue_type_script_setup_true_lang-Cmaap5fb.js";import"./wasapiOutputCaptureSetup.vue_vue_type_script_setup_true_lang-2Y8rSD-C.js";import"./noiseSuppressionFilters.vue_vue_type_script_setup_true_lang-jj42sFeR.js";import"./BasicEqFilter.vue_vue_type_script_setup_true_lang-C8hkLWHi.js";import"./CompressorFilter.vue_vue_type_script_setup_true_lang-B4EBapIL.js";import"./NDIAudiofilter.vue_vue_type_script_setup_true_lang-glD76Ttq.js";import"./VstFilter.vue_vue_type_script_setup_true_lang-_zGYyMob.js";import"./JuceEqFilter.vue_vue_type_script_setup_true_lang-Ch6Ew6Pi.js";import"./InvertPolarityFilter.vue_vue_type_script_setup_true_lang-jCyX5sn0.js";import"./AsyncDelayFilter.vue_vue_type_script_setup_true_lang-BVqXILPQ.js";import"./AudioMonitor.vue_vue_type_script_setup_true_lang-BM9NwryB.js";import"./AutosubFilter.vue_vue_type_script_setup_true_lang-BuSheGA-.js";import"./ChromaKeyFilterV2.vue_vue_type_script_setup_true_lang-BOGsLdNQ.js";import"./ClutFilter.vue_vue_type_script_setup_true_lang-FEg8gIcr.js";import"./ColorFilterV2.vue_vue_type_script_setup_true_lang-Bjz6Exk6.js";import"./ColorKeyFilterV2.vue_vue_type_script_setup_true_lang-CUGK2hSa.js";import"./CropFilter.vue_vue_type_script_setup_true_lang-CEzI49-k.js";import"./ExpanderFilter.vue_vue_type_script_setup_true_lang-CXHayPov.js";import"./GainFilter.vue_vue_type_script_setup_true_lang-Dk-0XUOL.js";import"./GpuDelay.vue_vue_type_script_setup_true_lang-RuW8bt-v.js";import"./HdrTonemapFilter.vue_vue_type_script_setup_true_lang-MOjbou8e.js";import"./LimiterFilter.vue_vue_type_script_setup_true_lang-BvJUlM5V.js";import"./LumaKeyFilterV2.vue_vue_type_script_setup_true_lang-BSmJJ06D.js";import"./MaskFilterV2.vue_vue_type_script_setup_true_lang-DATkWYkt.js";import"./MicCtrlFilterV2.vue_vue_type_script_setup_true_lang-rgZ3nbnu.js";import"./NDIFilter.vue_vue_type_script_setup_true_lang-DJ14F3oJ.js";import"./NoiseFateFilter.vue_vue_type_script_setup_true_lang-DqnjTKoW.js";import"./ScaleFilter.vue_vue_type_script_setup_true_lang-CIikrZmY.js";import"./ScrollFilter.vue_vue_type_script_setup_true_lang-DY9tyAYr.js";import"./SharpnessFilterV2.vue_vue_type_script_setup_true_lang-ChoqC4vO.js";import"./SourceRecordFilter.vue_vue_type_script_setup_true_lang-BU12srDx.js";import"./UpwardCompressorFilter.vue_vue_type_script_setup_true_lang-BMRvIc_K.js";import"./AudioDelayFilter.vue_vue_type_script_setup_true_lang-ErJCplhp.js";import"./index-G4-Bc5RT.js";const ve={class:"main"},ye={key:0,class:"scene-list"},ke=["onClick"],ge={style:{display:"flex","align-items":"center","margin-left":"20px"}},we={class:"scene-body"},_e=W({name:"AudioSourceManagement",__name:"index",setup(Ce){const f=X(),{t:b}=Y();n();const R=n(),k=n([]),F=async()=>{var a,c;const t=await x.getScencList();t.sceneList.forEach(y=>{y.type=y.sceneName==t.currentProgramSceneName}),k.value=t.sceneList,k.value.length>0&&(g((a=k.value[0])==null?void 0:a.sceneName),l.value=(c=k.value[0])==null?void 0:c.sceneName)};n(!1);const l=n(""),M=t=>{l.value=t.sceneName,setTimeout(()=>{g(l.value)},100)},P=n([]),g=async(t,a)=>{const c=a||v.value,y={classId:c,sceneName:c==1?t:""},S=await x.getAudioInput(y);P.value=S},j=async()=>{const t=await f.validatePrompt("\u8BF7\u8F93\u5165\u573A\u666F\u540D\u79F0",b("\u65B0\u589E\u573A\u666F"),{inputValue:"",validator:a=>!!a||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await O.createScene({name:t.value}),F(),f.success("\u65B0\u589E\u6210\u529F")},T=n(),q=t=>{T.value.open(t.name,l.value,t.kind)},z=n([]),v=n(1),D=n([]),G=t=>{g(l.value,t.paneName)};return Z(()=>{F(),(async()=>D.value=await x.getAudioClassList())(),(async()=>z.value=await x.getAudioKindList())()}),$(()=>{}),(t,a)=>{const c=ee,y=te,S=oe,C=ie,Q=ne,U=re,B=me,w=se,H=pe;return m(),d(N,null,[o(y,{modelValue:r(v),"onUpdate:modelValue":a[0]||(a[0]=e=>ae(v)?v.value=e:null),class:"demo-tabs",onTabClick:G},{default:i(()=>[(m(!0),d(N,null,I(r(D),e=>(m(),A(c,{label:e.name,key:e.id,name:e.id},null,8,["label","name"]))),128))]),_:1},8,["modelValue"]),p("div",ve,[r(v)==1?(m(),d("div",ye,[a[2]||(a[2]=p("p",{class:"title"},"\u89C6\u9891\u6E90\u8F93\u51FA\u5217\u8868",-1)),o(S,{height:"calc(100vh - 190px)"},{default:i(()=>[(m(!0),d(N,null,I(r(k),e=>(m(),d("div",{style:K({backgroundColor:e.sceneName==r(l)?"#409efe":"#f1f1f1",color:e.sceneName==r(l)?"#fcfcfc":"#2e3235"}),key:e,class:"scrollbar-item",onClick:s=>M(e)},[e.type?(m(),d("p",{key:0,class:"icon",style:K({backgroundColor:e.type?"red":""})},null,4)):L("",!0),p("p",ge,h(e.sceneName),1)],12,ke))),128))]),_:1}),p("div",{style:{"background-color":"white"}},[p("p",{class:"scene-list-button",onClick:j},"\u65B0\u589E\u89C6\u9891\u8F93\u51FA")])])):L("",!0),p("div",we,[o(B,{placement:"top",trigger:"click","max-height":"300px",onCommand:q},{dropdown:i(()=>[o(U,null,{default:i(()=>[(m(!0),d(N,null,I(r(z),e=>(m(),A(Q,{command:e,key:e.kind,style:{width:"180px"}},{default:i(()=>[_(h(e.name),1)]),_:2},1032,["command"]))),128))]),_:1})]),default:i(()=>[o(C,{type:"primary",icon:r(le)},{default:i(()=>a[3]||(a[3]=[_("\u65B0\u589E")])),_:1},8,["icon"])]),_:1}),o(H,{data:r(P),style:{width:"100%",padding:"0 20px","margin-top":"15px"},height:"100%"},{default:i(()=>[o(w,{prop:"name",label:"\u540D\u79F0"}),o(w,{prop:"showName",label:"\u663E\u793A\u540D\u79F0"}),o(w,{prop:"ctrlType",label:"\u7C7B\u578B"},{default:i(e=>{var s;return[p("span",null,h((s=e.row.inputKindDetail)==null?void 0:s.name),1)]}),_:1}),o(w,{prop:"name",label:"\u6EE4\u955C"},{default:i(e=>{var s;return[p("span",null,h(((s=e.row.filterList)==null?void 0:s.join(","))||""),1)]}),_:1}),o(w,{fixed:"right",label:"\u64CD\u4F5C",width:"170"},{default:i(e=>[o(C,{link:"",type:"primary",onClick:V(s=>{return u=e.row,void R.value.open(u.name);var u},["prevent"])},{default:i(()=>a[4]||(a[4]=[_(" \u8BBE\u7F6E ")])),_:2},1032,["onClick"]),o(C,{link:"",type:"primary",onClick:V(s=>(async u=>{const E=await f.validatePrompt("\u8BF7\u8F93\u5165\u65B0\u7684\u8F93\u5165\u6E90\u540D\u79F0",b("\u91CD\u547D\u540D"),{inputValue:u.name,validator:J=>!!J||"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"});await O.renameInput({oldInputName:u.name,newInputName:E.value}),g(l.value),f.success("\u91CD\u547D\u540D\u6210\u529F")})(e.row),["prevent"])},{default:i(()=>a[5]||(a[5]=[_(" \u91CD\u547D\u540D ")])),_:2},1032,["onClick"]),r(v)==1?(m(),A(C,{key:0,link:"",type:"danger",onClick:V(s=>(async u=>{try{await f.delConfirm(b("common.delMessage")),await de.removeAudioInput({sceneName:l.value,inputName:u.name}),g(l.value),f.success(b("common.delSuccess"))}catch{}})(e.row),["prevent"])},{default:i(()=>a[6]||(a[6]=[_(" \u5220\u9664 ")])),_:2},1032,["onClick"])):L("",!0)]),_:1})]),_:1},8,["data"]),o(ue,{ref_key:"ConfigurationFormRef",ref:R},null,512),o(fe,{onSuccess:a[1]||(a[1]=e=>M({sceneName:r(l)})),ref_key:"InputSourceFormRef",ref:T},null,512)])])],64)}}}),be=ce(_e,[["__scopeId","data-v-54751cb1"]]);export{be as default};
