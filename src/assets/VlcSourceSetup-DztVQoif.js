import{d as L,q as O,p as H,r as i,a4 as M,w as N,c as A,o as B,F as J,j as e,a6 as K,a as t,s as o,a9 as P,aL as Q,ap as h,aM as T,x,D as W,G as X,f as d,z as Y,n as $,t as Z,H as aa,aN as ea,ax as la,az as ta,aq as ua,_ as oa}from"./index-DzCoMBOl.js";import{d as sa}from"./vuedraggable.umd-DRnoypjo.js";import{_ as na}from"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-Gdsu9Jdn.js";import"./Dialog.vue_vue_type_style_index_0_lang-v5RKlSVj.js";import"./globalFiles-CnarKSOx.js";import"./UploadFile-Cag7jI4k.js";import"./meetingFiles-BIa0dzBF.js";import"./index-q5044CqW.js";const ia={class:"play-body"},pa={class:"playList"},ra=["onClick"],da={class:"playOpcity"},ca=oa(L({name:"VlcSourceSetup",__name:"VlcSourceSetup",props:{config:{type:Object,default:()=>{}}},setup(S,{expose:w}){const p=S,{t:ma}=O(),U=H(),b=i(),s=i([]),r=i("1"),u=i({loop:!1,shuffle:!1,network_caching:100,track:1,subtitle:1,subtitle_enable:!1,playback_behavior:"",playlist:[]}),C=M({}),f=i();w({getData:async()=>{if(f)return await f.value.validate()?(u.value.playlist=s.value,u.value.shuffle=r.value=="2",u.value.loop=r.value=="1",{...p.config,inputSetting:u.value}):void 0}});const m=i(""),z=async()=>{},R=()=>{s.value=s.value.filter(c=>c.value!=m.value)||[]},g=i(),D=()=>{g.value.open({name:"\u5168\u5C40\u6587\u4EF6"},!0)},F=c=>{s.value.find(a=>a.value==c.path)?U.warning("\u8BE5\u6587\u4EF6\u5DF2\u5B58\u5728\uFF0C\u7981\u6B62\u91CD\u590D\u6DFB\u52A0"):s.value.push({value:c.path,hidden:!1,selected:!1})};return N(()=>{p.config&&p.config.inputSetting&&(u.value=p.config.inputSetting,s.value=p.config.inputSetting.playlist||[],r.value=p.config.inputSetting.loop?"1":"2")}),(c,a)=>{const y=T,j=Q,n=P,v=X,q=W,E=Y,V=aa,_=ta,G=ua,I=K;return B(),A(J,null,[e(I,{ref_key:"formRef",ref:f,model:t(u),rules:t(C),"label-width":"140px"},{default:o(()=>[e(n,{label:"\u64AD\u653E\u6A21\u5F0F"},{default:o(()=>[e(j,{modelValue:t(r),"onUpdate:modelValue":a[0]||(a[0]=l=>h(r)?r.value=l:null)},{default:o(()=>[e(y,{value:"1",size:"large"},{default:o(()=>a[9]||(a[9]=[x("\u5FAA\u73AF\u64AD\u653E\u5217\u8868")])),_:1}),e(y,{value:"2",size:"large"},{default:o(()=>a[10]||(a[10]=[x("\u968F\u673A\u64AD\u653E\u5217\u8868")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u53EF\u89C1\u6027\u884C\u4E3A"},{default:o(()=>[e(q,{modelValue:t(u).playback_behavior,"onUpdate:modelValue":a[1]||(a[1]=l=>t(u).playback_behavior=l),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[e(v,{label:"\u4E0D\u53EF\u89C1\u65F6\u505C\u6B62\uFF0C\u53EF\u89C1\u65F6\u91CD\u542F",value:"stop_restart"}),e(v,{label:"\u4E0D\u53EF\u89C1\u65F6\u6682\u505C\uFF0C\u53EF\u89C1\u65F6\u53D6\u6D88\u6682\u505C",value:"pause_unpause"}),e(v,{label:"\u5373\u4FBF\u5728\u4E0D\u53EF\u89C1\u65F6\u4E5F\u4FDD\u6301\u64AD\u653E",value:"always_play"})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u64AD\u653E\u5217\u8868"},{default:o(()=>[d("div",ia,[d("div",pa,[e(E,{height:"160px"},{default:o(()=>[e(t(sa),{modelValue:t(s),"onUpdate:modelValue":a[2]||(a[2]=l=>h(s)?s.value=l:null),onStart:a[3]||(a[3]=l=>b.value=!0),onEnd:a[4]||(a[4]=l=>b.value=!1),class:"draggable",onChange:z,"item-key":"id"},{item:o(({element:l})=>[d("div",{style:$({backgroundColor:l.value==t(m)?"#409efe":"#f1f1f1",color:l.value==t(m)?"#fcfcfc":"#2e3235"}),class:"scrollbar-item",onClick:fa=>{return k=l,void(m.value=k.value);var k}},[d("p",null,Z(l.value),1)],12,ra)]),_:1},8,["modelValue"])]),_:1})]),d("div",da,[e(V,{onClick:D,type:"primary",class:"opcity",icon:t(ea),link:""},null,8,["icon"]),e(V,{onClick:R,type:"primary",class:"opcity",icon:t(la),link:""},null,8,["icon"])])])]),_:1}),e(n,{label:"\u7F51\u7EDC\u7F13\u5B58",prop:"network_caching"},{default:o(()=>[e(_,{style:{"margin-left":"22px"},modelValue:t(u).network_caching,"onUpdate:modelValue":a[5]||(a[5]=l=>t(u).network_caching=l),min:100,max:6e4},{suffix:o(()=>a[11]||(a[11]=[d("span",null,"ms",-1)])),_:1},8,["modelValue"])]),_:1}),e(n,{label:"\u97F3\u8F68",prop:"track"},{default:o(()=>[e(_,{style:{"margin-left":"22px"},modelValue:t(u).track,"onUpdate:modelValue":a[6]||(a[6]=l=>t(u).track=l),min:1,max:10},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5F00\u542F\u5B57\u5E55",prop:"subtitle_enable"},{default:o(()=>[e(G,{modelValue:t(u).subtitle_enable,"onUpdate:modelValue":a[7]||(a[7]=l=>t(u).subtitle_enable=l)},null,8,["modelValue"])]),_:1}),e(n,{label:"\u5B57\u5E55\u8F68\u9053",prop:"subtitle"},{default:o(()=>[e(_,{style:{"margin-left":"22px"},modelValue:t(u).subtitle,"onUpdate:modelValue":a[8]||(a[8]=l=>t(u).subtitle=l),min:1,max:999},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),e(na,{ref_key:"globalFilesDIalogRef",ref:g,onSuccess:F},null,512)],64)}}}),[["__scopeId","data-v-742d2588"]]);export{ca as default};
