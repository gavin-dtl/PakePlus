import{d as ea,r as p,as as ya,_ as la,c as h,o as w,f as i,g as oa,v as F,t as ta,au as v,p as Va,q as ha,a4 as Ca,b as _a,aP as ka,j as e,s as l,O as xa,a6 as Ma,a as n,a7 as Sa,a9 as Ua,D as Oa,F as O,i as L,C as T,G as Ta,aq as Da,H as Ia,x as D,aR as Ea,aS as Pa,aa as La,y as Aa,B as Ba,az as Ra,A as y,ap as ia,X as Fa,aw as $a}from"./index-DzCoMBOl.js";import{_ as ja}from"./ContentWrap.vue_vue_type_script_setup_true_lang-CCSEnNgB.js";import{_ as qa,a as Ja,b as Ka,c as Na,d as za,e as Ga}from"./layou2-DyNSnYpI.js";import{t as Ha}from"./index-B2rW55Hh.js";const Qa=ea({name:"TableValidator",props:{modelValue:{type:[String,Number,Boolean,Array,Object],default:""},rules:{type:Array,default:()=>[]},immediate:{type:Boolean,default:!1}},emits:["update:modelValue","validate"],setup(d,{emit:f}){const C=p(""),g=p(!1),_=async S=>{const A=S!==void 0?S:d.modelValue;for(const s of d.rules)try{if(!await s.validator(A))return C.value=s.message,g.value=!0,f("validate",!1),!1}catch(I){return C.value=typeof I=="string"?I:"\u6821\u9A8C\u5931\u8D25",g.value=!0,f("validate",!1),!1}return C.value="",g.value=!1,f("validate",!0),!0};return d.immediate&&ya(()=>d.modelValue,_,{immediate:!0}),{currentError:C,showError:g,validateField:_}}}),Wa={class:"table-validator"},Xa={class:"validator-content"},Ya={class:"default-error-tip"},Za=la(Qa,[["render",function(d,f,C,g,_,S){return w(),h("div",Wa,[i("div",Xa,[oa(d.$slots,"default",{validate:d.validateField},void 0,!0),d.showError?oa(d.$slots,"error",{key:0,error:d.currentError},()=>[i("span",Ya,ta(d.currentError),1)],!0):F("",!0)])])}],["__scopeId","data-v-5794789b"]]),ae=async()=>await v.get({url:"/meeting/dict/dict/audioCtrlType"}),ee=async()=>await v.get({url:"/meeting/dict/dict/audioLevel"}),le=async d=>await v.post({url:"/meeting/switch/setAudioSwitch",data:d}),oe=async()=>await v.get({url:"/meeting/switch/getAudioSwitchList"}),te=async()=>await v.get({url:"/meeting/switch/getAutoSwitchConfig"}),ie=async d=>await v.post({url:"/meeting/switch/setAutoSwitchConfig",data:d}),ne=async()=>await v.get({url:"/meeting/dict/dict/switchMode"}),ue=async()=>await v.get({url:"/meeting/switch/sceneSwitchList"}),de=async()=>await v.get({url:"/meeting/dict/dict/sceneLayout"}),re=async d=>await v.post({url:"/meeting/switch/setSceneSwitch",data:d}),se={class:"verification"},ce={key:0,class:"error-tip"},pe={class:"audioctrlType"},me={class:"expanded-content"},we=["onClick"],fe=["onClick"],ve=["onClick"],ge=["onClick"],be=["onClick"],ye=["onClick"],Ve=["onClick"],he=["onClick"],Ce={class:"dialog-footer"},_e=ea({name:"VideoStreaming",__name:"index",setup(d){const f=Va(),{t:C}=ha(),g=p("first"),_=p(!0),S=p([]),A=p(0),s=Ca({mixMicOpen:void 0,autoMixerMicOpen:void 0,audioSwitchMode:void 0,cameraTrackingMode:void 0}),I=p(),na=async()=>{_.value=!0;try{S.value=data.list,A.value=data.total}finally{_.value=!1}},ua=[{validator:u=>(o=>typeof o=="number"||/^\d+$/.test(o))(u),message:"\u8BF7\u8F93\u5165\u6709\u6548\u6570\u5B57"}],$=p([]),j=async()=>{const u=await te();s.audioSwitchMode=u.audioSwitchMode,s.mixMicOpen=u.mixMicOpen,s.autoMixerMicOpen=u.autoMixerMicOpen,s.cameraTrackingMode=u.cameraTrackingMode},da=async()=>{await ie(s),f.success("\u4FDD\u5B58\u6210\u529F"),j()},q=p([]),J=p([]),K=p([]),N=p([]),z=async()=>{N.value=await oe()},ra=/^(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d{2}|[1-9]?\d)){3}$/,G=u=>!ra.test(u.audioIp)&&u.audioIp?(u.ipError="\u8BF7\u8F93\u5165\u6709\u6548\u7684IP\u5730\u5740 (\u5982: 192.168.1.1)",!1):(u.ipError="",!0),H=async u=>{(o=>G(o))(u)?u.audioOpenDb<u.audioCloseDb?f.warning("\u6253\u5F00\u97F3\u91CF\u5FC5\u987B\u5927\u4E8E\u5173\u95ED\u97F3\u91CF"):(await le(u),z(),k.value=!1,f.success("\u4FDD\u5B58\u6210\u529F")):f.warning("\u8BF7\u4FEE\u6B63\u9519\u8BEF\u540E\u518D\u4FDD\u5B58")},Q=p([]),sa=p([]),W=async()=>{const u=await ue();Q.value=u.sceneList},k=p(!1),V=p({audioOpenDb:-60,audioCloseDb:-60}),b=(u,o)=>{u.thSceneConfig.layout=o};return _a(async()=>{await(async()=>{$.value=await ae()})(),await(async()=>{q.value=await ne()})(),await j(),await z(),await(async()=>{J.value=await ee()})(),await(async()=>{K.value=await Ha.getTrackingList()})(),await(async()=>{sa.value=await de()})(),await W()}),(u,o)=>{const c=Ta,x=Oa,M=Ua,E=Da,X=Sa,Y=Ma,U=Ia,B=ja,R=xa,m=Pa,ca=La,pa=Aa,ma=Ba,P=Ra,wa=Za,Z=Ea,fa=Fa,va=$a,ga=ka("DeviceTypeForm");return w(),h(O,null,[e(fa,{modelValue:n(g),"onUpdate:modelValue":o[4]||(o[4]=a=>ia(g)?g.value=a:null),class:"demo-tabs",onTabClick:u.handleClick},{default:l(()=>[e(R,{label:"\u5168\u5C40\u914D\u7F6E",name:"first"},{default:l(()=>[e(B,null,{default:l(()=>[e(Y,{class:"-mb-15px",model:n(s),ref_key:"queryFormRef",ref:I,inline:!0,"label-width":"160px"},{default:l(()=>[e(X,null,{default:l(()=>[e(M,{label:"\u5207\u6362\u6A21\u5F0F",prop:"audioSwitchMode"},{default:l(()=>[e(x,{modelValue:n(s).audioSwitchMode,"onUpdate:modelValue":o[0]||(o[0]=a=>n(s).audioSwitchMode=a),placeholder:"\u8BF7\u9009\u62E9\u5207\u6362\u6A21\u5F0F",class:"!w-240px"},{default:l(()=>[(w(!0),h(O,null,L(n(q),(a,t)=>(w(),T(c,{key:t,label:a.info,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(M,{label:"\u6444\u50CF\u5934\u8DDF\u8E2A",prop:"cameraTrackingMode"},{default:l(()=>[e(E,{"active-value":1,"inactive-value":0,modelValue:n(s).cameraTrackingMode,"onUpdate:modelValue":o[1]||(o[1]=a=>n(s).cameraTrackingMode=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(X,null,{default:l(()=>[e(M,{label:"\u8BDD\u7B52\u6700\u5927\u6253\u5F00\u6570\u91CF",prop:"mixMicOpen"},{default:l(()=>[e(x,{modelValue:n(s).mixMicOpen,"onUpdate:modelValue":o[2]||(o[2]=a=>n(s).mixMicOpen=a),placeholder:"\u8BF7\u9009\u62E9\u8BDD\u7B52\u6700\u5927\u6253\u5F00\u6570\u91CF",class:"!w-240px"},{default:l(()=>[e(c,{label:"1",value:1}),e(c,{label:"2",value:2}),e(c,{label:"3",value:3}),e(c,{label:"4",value:4}),e(c,{label:"5",value:5}),e(c,{label:"6",value:6})]),_:1},8,["modelValue"])]),_:1}),e(M,{label:"\u667A\u80FD\u6DF7\u97F3\u6700\u5927\u6253\u5F00\u6570\u91CF",prop:"autoMixerMicOpen"},{default:l(()=>[e(x,{modelValue:n(s).autoMixerMicOpen,"onUpdate:modelValue":o[3]||(o[3]=a=>n(s).autoMixerMicOpen=a),placeholder:"\u8BF7\u9009\u62E9\u667A\u80FD\u6DF7\u97F3\u6700\u5927\u6253\u5F00\u6570\u91CF",class:"!w-240px"},{default:l(()=>[e(c,{label:"1",value:1}),e(c,{label:"2",value:2}),e(c,{label:"3",value:3}),e(c,{label:"4",value:4}),e(c,{label:"5",value:5}),e(c,{label:"6",value:6})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["model"]),e(U,{class:"heard-button",style:{float:"right",margin:"10px 10px 10px 0"},type:"primary",onClick:da},{default:l(()=>o[10]||(o[10]=[D(" \u4FDD\u5B58")])),_:1})]),_:1})]),_:1}),e(R,{label:"\u8BDD\u7B52\u8BBE\u7F6E",name:"second"},{default:l(()=>[e(B,null,{default:l(()=>[e(Z,{data:n(N),stripe:!0,"max-height":"500px"},{default:l(()=>[e(m,{label:"\u8BDD\u7B52\u540D\u79F0",align:"center",prop:"name"}),e(m,{label:"\u8BDD\u7B52IP",align:"center",prop:"audioIp"},{default:l(a=>[i("div",se,[e(ca,{modelValue:a.row.audioIp,"onUpdate:modelValue":t=>a.row.audioIp=t,onBlur:t=>G(a.row),onInput:t=>{var r;(r=a.row).ipError&&(r.ipError="")},placeholder:"\u8BF7\u8F93\u5165\u8BDD\u7B52IP"},null,8,["modelValue","onUpdate:modelValue","onBlur","onInput"]),a.row.ipError?(w(),h("span",ce,ta(a.row.ipError),1)):F("",!0)])]),_:1}),e(m,{label:"\u63A7\u5236\u7C7B\u578B",align:"center",prop:"audioCtrlType"},{default:l(a=>[i("div",pe,[e(x,{modelValue:a.row.audioCtrlType,"onUpdate:modelValue":t=>a.row.audioCtrlType=t,placeholder:"\u8BF7\u9009\u62E9\u8F93\u5165\u6E90",class:"!w-100px"},{default:l(()=>[(w(!0),h(O,null,L(n($),(t,r)=>(w(),T(c,{key:r,label:t.info,value:t.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),a.row.audioCtrlType==2?(w(),T(pa,{key:0,onClick:t=>{return r=a.row,V.value=r,void(k.value=!0);var r},class:"setting",icon:"ep:setting"},null,8,["onClick"])):F("",!0)])]),_:1}),e(m,{label:"\u4F18\u5148\u7EA7",align:"center",prop:"audioLevel"},{default:l(a=>[e(x,{modelValue:a.row.audioLevel,"onUpdate:modelValue":t=>a.row.audioLevel=t,placeholder:"\u8BF7\u9009\u62E9\u8F93\u5165\u6E90",class:"!w-100px"},{default:l(()=>[(w(!0),h(O,null,L(n(J),(t,r)=>(w(),T(c,{key:r,label:t.info,value:t.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u667A\u80FD\u6DF7\u97F3",align:"center",prop:"autoMixer",width:"100"},{default:l(a=>[e(ma,{class:"box-item",effect:"dark",content:"\u5207\u6362\u6A21\u5F0F\u4E3A\u667A\u80FD\u6DF7\u97F3\u65F6\u751F\u6548",placement:"top"},{default:l(()=>[e(E,{modelValue:a.row.autoMixer,"onUpdate:modelValue":t=>a.row.autoMixer=t},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1}),e(m,{label:"\u8BA1\u5165\u6700\u5927\u6253\u5F00\u6570\u91CF",align:"center",prop:"audioRecordInMax",width:"100"},{default:l(a=>[e(E,{modelValue:a.row.audioRecordInMax,"onUpdate:modelValue":t=>a.row.audioRecordInMax=t},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u8BDD\u7B52\u6253\u5F00\u4FDD\u7559\u65F6\u95F4",align:"center",prop:"audioDurationMs",width:"179"},{default:l(a=>[e(P,{modelValue:a.row.audioDurationMs,"onUpdate:modelValue":t=>a.row.audioDurationMs=t,min:0,max:6e4,class:"!w-150px"},{suffix:l(()=>o[11]||(o[11]=[i("span",null,"ms",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u8DDF\u8E2A\u6444\u50CF\u673A",align:"center",prop:"trackingCamera",width:"190"},{default:l(a=>[e(x,{modelValue:a.row.trackingCamera,"onUpdate:modelValue":t=>a.row.trackingCamera=t,placeholder:"\u8BF7\u9009\u62E9\u6444\u50CF\u673A",clearable:"",class:"!w-165px"},{default:l(()=>[(w(!0),h(O,null,L(n(K),(t,r)=>(w(),T(c,{key:r,label:t.name,value:t.name},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u8DDF\u8E2A\u9884\u7F6E\u4F4D",align:"center",prop:"trackingPosition",width:"160"},{default:l(a=>[e(wa,{modelValue:a.row.trackingPosition,"onUpdate:modelValue":t=>a.row.trackingPosition=t,rules:ua,onValidate:t=>((r,aa,ba)=>{r[aa]=ba})(a.row,"trackingPositionValid",t)},{default:l(({validate:t})=>[e(P,{style:{margin:"auto"},modelValue:a.row.trackingPosition,"onUpdate:modelValue":r=>a.row.trackingPosition=r,min:1,max:255,class:"!w-120px",onChange:r=>t(a.row.trackingPosition)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1032,["modelValue","onUpdate:modelValue","onValidate"])]),_:1}),e(m,{label:"\u64CD\u4F5C",align:"center",width:"100px"},{default:l(a=>[e(U,{link:"",type:"primary",onClick:t=>H(a.row)},{default:l(()=>o[12]||(o[12]=[D(" \u4FDD\u5B58 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1}),e(R,{label:"\u89C6\u9891\u5BFC\u64AD",name:"third"},{default:l(()=>[e(B,null,{default:l(()=>[e(Z,{data:n(Q),stripe:!0,"show-overflow-tooltip":!1,"max-height":"300"},{default:l(()=>[e(m,{label:"\u540D\u5B57",align:"center",prop:"sceneName"}),e(m,{label:"\u81EA\u52A8\u5BFC\u64AD",align:"center",prop:"autoSwitch"},{default:l(a=>[e(E,{modelValue:a.row.thSceneConfig.autoSwitch,"onUpdate:modelValue":t=>a.row.thSceneConfig.autoSwitch=t},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(m,{label:"\u89C6\u9891\u5E03\u5C40",align:"center",prop:"layout"},{default:l(a=>[i("div",me,[i("p",{class:y(a.row.thSceneConfig.layout==9?"option-active":""),onClick:t=>b(a.row,9)},o[13]||(o[13]=[i("span",null,"\u81EA\u5B9A\u4E49",-1)]),10,we),i("p",{class:y(a.row.thSceneConfig.layout==0?"option-active":"")},[i("img",{class:"option",onClick:t=>b(a.row,0),alt:"",src:qa},null,8,fe)],2),i("p",{class:y(a.row.thSceneConfig.layout==2?"option-active":"")},[i("img",{class:"option",onClick:t=>b(a.row,2),alt:"",src:Ja},null,8,ve)],2),i("p",{class:y(a.row.thSceneConfig.layout==3?"option-active":"")},[i("img",{class:"option",onClick:t=>b(a.row,3),alt:"",src:Ka},null,8,ge)],2),i("p",{class:y(a.row.thSceneConfig.layout==5?"option-active":"")},[i("img",{class:"option",onClick:t=>b(a.row,5),alt:"",src:Na},null,8,be)],2),i("p",{class:y(a.row.thSceneConfig.layout==7?"option-active":"")},[i("img",{class:"option",onClick:t=>b(a.row,7),alt:"",src:za},null,8,ye)],2),i("p",{class:y(a.row.thSceneConfig.layout==8?"option-active":"")},[i("img",{class:"option",onClick:t=>b(a.row,8),alt:"",src:Ga},null,8,Ve)],2),i("p",{class:y(a.row.thSceneConfig.layout==10?"option-active":""),onClick:t=>b(a.row,10)},o[14]||(o[14]=[i("span",null,"\u81EA\u52A8",-1)]),10,he)])]),_:1}),e(m,{label:"\u64CD\u4F5C",align:"center",width:"120px"},{default:l(a=>[e(U,{link:"",type:"primary",onClick:t=>(async r=>{try{await re(r),W(),f.success("\u4FDD\u5B58\u6210\u529F")}catch{}})(a.row)},{default:l(()=>o[15]||(o[15]=[D(" \u4FDD\u5B58 ")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1},8,["modelValue","onTabClick"]),e(va,{title:"\u8BED\u8A00\u6FC0\u52B1",modelValue:n(k),"onUpdate:modelValue":o[9]||(o[9]=a=>ia(k)?k.value=a:null)},{footer:l(()=>[i("div",Ce,[e(U,{class:"heard-button",onClick:o[7]||(o[7]=a=>k.value=!1)},{default:l(()=>o[18]||(o[18]=[D(" \u53D6\u6D88")])),_:1}),e(U,{class:"heard-button",onClick:o[8]||(o[8]=a=>H(n(V)))},{default:l(()=>o[19]||(o[19]=[D(" \u4FDD\u5B58")])),_:1})])]),default:l(()=>[e(Y,{class:"-mb-15px",model:n(V),inline:!0,"label-width":"150px"},{default:l(()=>[e(M,{label:"\u6253\u5F00\u97F3\u91CF",prop:"audioOpenDb"},{default:l(()=>[e(P,{style:{"margin-left":"22px"},modelValue:n(V).audioOpenDb,"onUpdate:modelValue":o[5]||(o[5]=a=>n(V).audioOpenDb=a),min:-30,max:30},{suffix:l(()=>o[16]||(o[16]=[i("span",null,"dB",-1)])),_:1},8,["modelValue"])]),_:1}),e(M,{label:"\u5173\u95ED\u97F3\u91CF",prop:"audioCloseDb"},{default:l(()=>[e(P,{style:{"margin-left":"22px"},modelValue:n(V).audioCloseDb,"onUpdate:modelValue":o[6]||(o[6]=a=>n(V).audioCloseDb=a),min:-30,max:30},{suffix:l(()=>o[17]||(o[17]=[i("span",null,"dB",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(ga,{ref:"formRef",onSuccess:na},null,512)],64)}}}),ke=la(_e,[["__scopeId","data-v-bb012766"]]);export{ke as default};
