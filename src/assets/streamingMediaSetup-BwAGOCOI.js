import{d as E,q as M,p as j,r as c,a4 as q,b as C,w as N,c as R,o as _,F as B,j as o,a6 as G,a,s as t,C as i,v as p,a9 as L,ac as O,aa as Y,f as V,a7 as A,a8 as H,E as J,az as K,D as P,G as Q,aq as T,_ as W}from"./index-DwcZmOlQ.js";import{_ as X}from"./globalFilesDIalog.vue_vue_type_script_setup_true_lang-BFWreqdL.js";import"./Dialog.vue_vue_type_style_index_0_lang-BhpXB9km.js";import"./globalFiles-DunQ7Mc5.js";import"./UploadFile-DicpLKKc.js";import"./meetingFiles-if-kne1N.js";import"./index-BDW1A3Y4.js";const Z=W(E({name:"StreamingMediaSetup",__name:"streamingMediaSetup",props:{config:{type:Object,default:()=>{}}},setup(x,{expose:k}){const s=x,{t:$}=M();j();const U=c(),e=c({restart_on_activate:"",is_local_file:!1,looping:!1,local_file:"",buffering_mb:0,speed_percent:100,input:"",input_format:"",reconnect_delay_sec:1,hw_decode:"",clear_on_media_end:"",close_when_inactive:"",color_range:"",linear_alpha:"",seekable:"",ffmpeg_options:"",file:""}),w=q({buffering_mb:[{validator:(m,l,u)=>{Number.isInteger(l)?u():u(new Error("\u8BF7\u8F93\u6570\u5B57"))},trigger:"change"}],reconnect_delay_sec:[{validator:(m,l,u)=>{Number.isInteger(l)?u():u(new Error("\u8BF7\u8F93\u6570\u5B57"))},trigger:"change"}]}),g=c();k({getData:async()=>{if(g)return await g.value.validate()?{...s.config,inputSetting:e.value}:void 0}}),c([]);const z=()=>{U.value.open({name:"\u5168\u5C40\u6587\u4EF6"})},S=m=>{e.value.local_file=m.path};return C(()=>{}),N(()=>{s.config&&s.config.inputSetting&&(e.value=s.config.inputSetting)}),(m,l)=>{const u=O,d=L,f=Y,b=J,r=H,y=K,v=A,h=Q,F=P,D=T,I=G;return _(),R(B,null,[o(I,{ref_key:"formRef",ref:g,model:a(e),rules:a(w),"label-width":"140px"},{default:t(()=>[o(d,{prop:"is_local_file"},{default:t(()=>[o(u,{modelValue:a(e).is_local_file,"onUpdate:modelValue":l[0]||(l[0]=n=>a(e).is_local_file=n),label:"\u672C\u5730\u6587\u4EF6",size:"large"},null,8,["modelValue"])]),_:1}),a(e).is_local_file?(_(),i(d,{key:0,prop:"local_file",label:"\u672C\u5730\u6587\u4EF6"},{default:t(()=>[o(f,{modelValue:a(e).local_file,"onUpdate:modelValue":l[1]||(l[1]=n=>a(e).local_file=n),size:"large"},{append:t(()=>[V("div",{onClick:z,style:{padding:"0 20px"}},"\u6D4F\u89C8")]),_:1},8,["modelValue"])]),_:1})):p("",!0),a(e).is_local_file?(_(),i(d,{key:1,prop:"looping"},{default:t(()=>[o(u,{modelValue:a(e).looping,"onUpdate:modelValue":l[2]||(l[2]=n=>a(e).looping=n),label:"\u5FAA\u73AF",size:"large"},null,8,["modelValue"])]),_:1})):p("",!0),o(d,{prop:"restart_on_activate"},{default:t(()=>[o(u,{modelValue:a(e).restart_on_activate,"onUpdate:modelValue":l[3]||(l[3]=n=>a(e).restart_on_activate=n),label:"\u5F53\u6E90\u53D8\u4E3A\u6D3B\u52A8\u72B6\u6001\u65F6\u91CD\u65B0\u542F\u52A8\u64AD\u653E",size:"large"},null,8,["modelValue"])]),_:1}),a(e).is_local_file?p("",!0):(_(),i(d,{key:2,label:"\u7F51\u7EDC\u7F13\u51B2",prop:"buffering_mb"},{default:t(()=>[o(v,{style:{width:"100%"}},{default:t(()=>[o(r,{span:16},{default:t(()=>[o(b,{modelValue:a(e).buffering_mb,"onUpdate:modelValue":l[4]||(l[4]=n=>a(e).buffering_mb=n),min:1,max:16},null,8,["modelValue"])]),_:1}),o(r,{span:6},{default:t(()=>[o(y,{style:{"margin-left":"22px"},modelValue:a(e).buffering_mb,"onUpdate:modelValue":l[5]||(l[5]=n=>a(e).buffering_mb=n),min:0,max:16},{suffix:t(()=>l[19]||(l[19]=[V("span",null,"MB",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})),a(e).is_local_file?p("",!0):(_(),i(d,{key:3,label:"\u8F93\u5165",prop:"input"},{default:t(()=>[o(f,{modelValue:a(e).input,"onUpdate:modelValue":l[6]||(l[6]=n=>a(e).input=n)},null,8,["modelValue"])]),_:1})),a(e).is_local_file?p("",!0):(_(),i(d,{key:4,label:"\u8F93\u5165\u683C\u5F0F",prop:"input_format"},{default:t(()=>[o(f,{modelValue:a(e).input_format,"onUpdate:modelValue":l[7]||(l[7]=n=>a(e).input_format=n)},null,8,["modelValue"])]),_:1})),a(e).is_local_file?p("",!0):(_(),i(d,{key:5,label:"\u91CD\u8FDE\u65F6\u95F4\u95F4\u9694",prop:"reconnect_delay_sec"},{default:t(()=>[o(v,{style:{width:"100%"}},{default:t(()=>[o(r,{span:16},{default:t(()=>[o(b,{modelValue:a(e).reconnect_delay_sec,"onUpdate:modelValue":l[8]||(l[8]=n=>a(e).reconnect_delay_sec=n),min:1,max:16},null,8,["modelValue"])]),_:1}),o(r,{span:6},{default:t(()=>[o(y,{style:{"margin-left":"22px"},modelValue:a(e).reconnect_delay_sec,"onUpdate:modelValue":l[9]||(l[9]=n=>a(e).reconnect_delay_sec=n),min:1,max:60},{suffix:t(()=>l[20]||(l[20]=[V("span",null,"S",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})),o(d,{prop:"hw_decode"},{default:t(()=>[o(u,{modelValue:a(e).hw_decode,"onUpdate:modelValue":l[10]||(l[10]=n=>a(e).hw_decode=n),label:"\u5728\u53EF\u7528\u65F6\u4F7F\u7528\u786C\u4EF6\u7F16\u7801",size:"large"},null,8,["modelValue"])]),_:1}),o(d,{prop:"clear_on_media_end"},{default:t(()=>[o(u,{modelValue:a(e).clear_on_media_end,"onUpdate:modelValue":l[11]||(l[11]=n=>a(e).clear_on_media_end=n),label:"\u64AD\u653E\u7ED3\u675F\u65F6\u4E0D\u663E\u793A\u4EFB\u4F55\u5185\u5BB9",size:"large"},null,8,["modelValue"])]),_:1}),o(d,{prop:"close_when_inactive"},{default:t(()=>[o(u,{modelValue:a(e).close_when_inactive,"onUpdate:modelValue":l[12]||(l[12]=n=>a(e).close_when_inactive=n),label:"\u975E\u6D3B\u8DC3\u72B6\u6001\u65F6\u5173\u95ED\u6587\u4EF6",size:"large"},null,8,["modelValue"])]),_:1}),a(e).is_local_file?(_(),i(d,{key:6,label:"\u901F\u5EA6",prop:"speed_percent"},{default:t(()=>[o(v,null,{default:t(()=>[o(r,{span:16},{default:t(()=>[o(b,{modelValue:a(e).speed_percent,"onUpdate:modelValue":l[13]||(l[13]=n=>a(e).speed_percent=n),min:1,max:200},null,8,["modelValue"])]),_:1}),o(r,{span:6},{default:t(()=>[o(y,{style:{"margin-left":"22px"},modelValue:a(e).speed_percent,"onUpdate:modelValue":l[14]||(l[14]=n=>a(e).speed_percent=n),min:1,max:200},{suffix:t(()=>l[21]||(l[21]=[V("span",null,"%",-1)])),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})):p("",!0),o(d,{label:"YUV\u8272\u5F69\u8303\u56F4",prop:"color_range"},{default:t(()=>[o(F,{modelValue:a(e).color_range,"onUpdate:modelValue":l[15]||(l[15]=n=>a(e).color_range=n),placeholder:"\u8BF7\u9009\u62E9"},{default:t(()=>[o(h,{label:"\u81EA\u52A8",value:0}),o(h,{label:"\u5E38\u89C4\uFF08Limited\uFF09",value:1}),o(h,{label:"\u6269\u5C55\uFF08Full\uFF09",value:2})]),_:1},8,["modelValue"])]),_:1}),o(d,{prop:"linear_alpha"},{default:t(()=>[o(u,{modelValue:a(e).linear_alpha,"onUpdate:modelValue":l[16]||(l[16]=n=>a(e).linear_alpha=n),label:"\u5728\u7EBF\u6027\u7A7A\u95F4\u5E94\u7528alpha\u901A\u9053",size:"large"},null,8,["modelValue"])]),_:1}),a(e).is_local_file?p("",!0):(_(),i(d,{key:7,label:"\u53EF\u641C\u7D22",prop:"seekable"},{default:t(()=>[o(D,{modelValue:a(e).seekable,"onUpdate:modelValue":l[17]||(l[17]=n=>a(e).seekable=n)},null,8,["modelValue"])]),_:1})),o(d,{label:"FFmpeg\u9009\u9879",prop:"ffmpeg_options"},{default:t(()=>[o(f,{modelValue:a(e).ffmpeg_options,"onUpdate:modelValue":l[18]||(l[18]=n=>a(e).ffmpeg_options=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),o(X,{ref_key:"globalFilesDIalogRef",ref:U,onSuccess:S},null,512)],64)}}}),[["__scopeId","data-v-58faecdf"]]);export{Z as default};
