import{d as w,l as U,k as x,r as s,a3 as z,b as k,az as A,z as b,o as p,w as o,m as e,a8 as B,A as D,a,c as N,F as S,y as $,B as j,ap as I,ab as T,a5 as Y}from"./index-h2IMwmcw.js";import{c as Z}from"./index-khA-Kq7n.js";const q=w({name:"NDIsetup",__name:"NDIsetup",props:{config:{type:Object,default:()=>{}}},setup(g,{expose:f}){const r=g,{t:F}=U();x();const l=s({ndi_bw_mode:"",ndi_sync:"",ndi_recv_hw_accel:"",yuv_range:"",yuv_colorspace:void 0,ndi_fix_alpha_blending:!1,latency:"",ndi_audio:"",ndi_source_name:""}),v=z({nickname:[{required:!0,message:"\u59D3\u540D\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{pattern:/^.{1,30}$/,message:"\u8BF7\u8F93\u51651-30\u4E3A\u5B57\u7B26",trigger:"blur"}],password:[{pattern:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])[a-zA-Z\d]{8,16}$/,message:"8-16\u4F4D\u6570\u5B57\u5927\u5C0F\u5199\u5B57\u6BCD\u7684\u7EC4\u5408",trigger:"blur"}],email:[{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740",trigger:["blur","change"]}],mobile:[{pattern:/^(?:(?:\+|00)86)?1(?:3[\d]|4[5-79]|5[0-35-9]|6[5-7]|7[0-8]|8[\d]|9[189])\d{8}$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}]}),i=s();f({getData:async()=>{if(i)return await i.value.validate()?{...r.config,inputSetting:l.value}:void 0}});const c=s([]);return k(()=>{(async()=>c.value=await Z.getNdiList())()}),A(()=>{r.config&&r.config.inputSetting&&(l.value=r.config.inputSetting)}),(L,u)=>{const n=j,_=D,t=B,m=I,V=T,y=Y;return p(),b(y,{ref_key:"formRef",ref:i,model:a(l),rules:a(v),"label-width":"140px"},{default:o(()=>[e(t,{label:"\u6765\u6E90\u540D\u79F0",prop:"ndi_source_name"},{default:o(()=>[e(_,{modelValue:a(l).ndi_source_name,"onUpdate:modelValue":u[0]||(u[0]=d=>a(l).ndi_source_name=d)},{default:o(()=>[(p(!0),N(S,null,$(a(c),(d,h)=>(p(),b(n,{key:h,label:d.name,value:d.path},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"\u5E26\u5BBD",prop:"ndi_bw_mode"},{default:o(()=>[e(_,{modelValue:a(l).ndi_bw_mode,"onUpdate:modelValue":u[1]||(u[1]=d=>a(l).ndi_bw_mode=d),placeholder:"\u8BF7\u9009\u62E9",clearable:""},{default:o(()=>[e(n,{label:"\u6700\u9AD8",value:0}),e(n,{label:"\u6700\u4F4E",value:1}),e(n,{label:"\u4EC5\u97F3\u9891",value:2})]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"\u540C\u6B65",prop:"ndi_sync"},{default:o(()=>[e(_,{modelValue:a(l).ndi_sync,"onUpdate:modelValue":u[2]||(u[2]=d=>a(l).ndi_sync=d),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[e(n,{label:"\u7F51\u7EDC",value:1}),e(n,{label:"\u6765\u6E90\u5B9A\u65F6",value:2})]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"\u5141\u8BB8\u786C\u4EF6\u52A0\u901F",prop:"ndi_recv_hw_accel"},{default:o(()=>[e(m,{modelValue:a(l).ndi_recv_hw_accel,"onUpdate:modelValue":u[3]||(u[3]=d=>a(l).ndi_recv_hw_accel=d)},null,8,["modelValue"])]),_:1}),e(t,{prop:"ndi_fix_alpha_blending"},{default:o(()=>[e(V,{modelValue:a(l).ndi_fix_alpha_blending,"onUpdate:modelValue":u[4]||(u[4]=d=>a(l).ndi_fix_alpha_blending=d),label:"\u4FEE\u590Dalpha\u6DF7\u5408\uFF08\u5411\u6B64\u6765\u6E90\u6DFB\u52A0\u7B5B\u9009\u5668\uFF09",size:"large"},null,8,["modelValue"])]),_:1}),e(t,{label:"YUV\u8303\u56F4",prop:"yuv_range"},{default:o(()=>[e(_,{modelValue:a(l).yuv_range,"onUpdate:modelValue":u[5]||(u[5]=d=>a(l).yuv_range=d),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[e(n,{label:"\u90E8\u5206",value:1}),e(n,{label:"\u5168\u90E8",value:2})]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"YUV\u989C\u8272\u7A7A\u95F4",prop:"yuv_colorspace"},{default:o(()=>[e(_,{modelValue:a(l).yuv_colorspace,"onUpdate:modelValue":u[6]||(u[6]=d=>a(l).yuv_colorspace=d),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[e(n,{label:"BT.601",value:1}),e(n,{label:"BT.709",value:2})]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"\u5EF6\u65F6\u6A21\u5F0F",prop:"latency"},{default:o(()=>[e(_,{modelValue:a(l).latency,"onUpdate:modelValue":u[7]||(u[7]=d=>a(l).latency=d),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[e(n,{label:"\u9ED8\u8BA4",value:0}),e(n,{label:"\u4F4E\u5EF6\u65F6",value:1})]),_:1},8,["modelValue"])]),_:1}),e(t,{label:"\u4F7F\u7528\u97F3\u9891",prop:"ndi_audio"},{default:o(()=>[e(m,{modelValue:a(l).ndi_audio,"onUpdate:modelValue":u[8]||(u[8]=d=>a(l).ndi_audio=d)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])}}});export{q as _};
